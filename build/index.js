/*!
 * 
 *   @aac/simple-keyboard v1.1.0a.1
 *   https://github.com/hodgef/simple-keyboard
 *
 *   Copyright (c) Francisco Hodge (https://github.com/hodgef) and project contributors.
 *
 *   This source code is licensed under the MIT license found in the
 *   LICENSE file in the root directory of this source tree.
 *
 */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.SimpleKeyboard=e():t.SimpleKeyboard=e()}(this,function(){return function(){"use strict";var t={34:function(t,e,n){var o=n(4901);t.exports=function(t){return"object"==typeof t?null!==t:o(t)}},81:function(t,e,n){var o=n(9565),i=n(9306),r=n(8551),a=n(6823),s=n(851),u=TypeError;t.exports=function(t,e){var n=arguments.length<2?s(t):e;if(i(n))return r(o(n,t));throw new u(a(t)+" is not iterable")}},235:function(t,e,n){var o=n(9213).forEach,i=n(4598)("forEach");t.exports=i?[].forEach:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}},283:function(t,e,n){var o=n(9504),i=n(9039),r=n(4901),a=n(9297),s=n(3724),u=n(350).CONFIGURABLE,c=n(3706),l=n(1181),d=l.enforce,f=l.get,h=String,p=Object.defineProperty,v=o("".slice),y=o("".replace),g=o([].join),b=s&&!i(function(){return 8!==p(function(){},"length",{value:8}).length}),m=String(String).split("String"),E=t.exports=function(t,e,n){"Symbol("===v(h(e),0,7)&&(e="["+y(h(e),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),n&&n.getter&&(e="get "+e),n&&n.setter&&(e="set "+e),(!a(t,"name")||u&&t.name!==e)&&(s?p(t,"name",{value:e,configurable:!0}):t.name=e),b&&n&&a(n,"arity")&&t.length!==n.arity&&p(t,"length",{value:n.arity});try{n&&a(n,"constructor")&&n.constructor?s&&p(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(t){}var o=d(t);return a(o,"source")||(o.source=g(m,"string"==typeof e?e:"")),t};Function.prototype.toString=E(function(){return r(this)&&f(this).source||c(this)},"toString")},298:function(t,e,n){var o=n(2195),i=n(5397),r=n(8480).f,a=n(7680),s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return s&&"Window"===o(t)?function(t){try{return r(t)}catch(t){return a(s)}}(t):r(i(t))}},350:function(t,e,n){var o=n(3724),i=n(9297),r=Function.prototype,a=o&&Object.getOwnPropertyDescriptor,s=i(r,"name"),u=s&&"something"===function(){}.name,c=s&&(!o||o&&a(r,"name").configurable);t.exports={EXISTS:s,PROPER:u,CONFIGURABLE:c}},397:function(t,e,n){var o=n(7751);t.exports=o("document","documentElement")},421:function(t){t.exports={}},511:function(t,e,n){var o=n(9167),i=n(9297),r=n(1951),a=n(4913).f;t.exports=function(t){var e=o.Symbol||(o.Symbol={});i(e,t)||a(e,t,{value:r.f(t)})}},566:function(t,e,n){var o=n(9504),i=n(9306),r=n(34),a=n(9297),s=n(7680),u=n(616),c=Function,l=o([].concat),d=o([].join),f={};t.exports=u?c.bind:function(t){var e=i(this),n=e.prototype,o=s(arguments,1),u=function(){var n=l(o,s(arguments));return this instanceof u?function(t,e,n){if(!a(f,e)){for(var o=[],i=0;i<e;i++)o[i]="a["+i+"]";f[e]=c("C,a","return new C("+d(o,",")+")")}return f[e](t,n)}(e,n.length,n):e.apply(t,n)};return r(n)&&(u.prototype=n),u}},597:function(t,e,n){var o=n(9039),i=n(8227),r=n(9519),a=i("species");t.exports=function(t){return r>=51||!o(function(){var e=[];return(e.constructor={})[a]=function(){return{foo:1}},1!==e[t](Boolean).foo})}},616:function(t,e,n){var o=n(9039);t.exports=!o(function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")})},655:function(t,e,n){var o=n(6955),i=String;t.exports=function(t){if("Symbol"===o(t))throw new TypeError("Cannot convert a Symbol value to a string");return i(t)}},679:function(t,e,n){var o=n(1625),i=TypeError;t.exports=function(t,e){if(o(e,t))return t;throw new i("Incorrect invocation")}},687:function(t,e,n){var o=n(4913).f,i=n(9297),r=n(8227)("toStringTag");t.exports=function(t,e,n){t&&!n&&(t=t.prototype),t&&!i(t,r)&&o(t,r,{configurable:!0,value:e})}},706:function(t,e,n){var o=n(350).PROPER,i=n(9039),r=n(7452);t.exports=function(t){return i(function(){return!!r[t]()||"​᠎"!=="​᠎"[t]()||o&&r[t].name!==t})}},739:function(t,e,n){var o=n(6518),i=n(9039),r=n(8981),a=n(2777);o({target:"Date",proto:!0,arity:1,forced:i(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})})},{toJSON:function(t){var e=r(this),n=a(e,"number");return"number"!=typeof n||isFinite(n)?e.toISOString():null}})},741:function(t){var e=Math.ceil,n=Math.floor;t.exports=Math.trunc||function(t){var o=+t;return(o>0?n:e)(o)}},744:function(t,e,n){var o=n(9565),i=n(9504),r=n(9228),a=n(8551),s=n(34),u=n(7750),c=n(2293),l=n(7829),d=n(8014),f=n(655),h=n(5966),p=n(6682),v=n(8429),y=n(9039),g=v.UNSUPPORTED_Y,b=Math.min,m=i([].push),E=i("".slice),x=!y(function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}),k="c"==="abbc".split(/(b)*/)[1]||4!=="test".split(/(?:)/,-1).length||2!=="ab".split(/(?:ab)*/).length||4!==".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length;r("split",function(t,e,n){var i="0".split(void 0,0).length?function(t,n){return void 0===t&&0===n?[]:o(e,this,t,n)}:e;return[function(e,n){var r=u(this),a=s(e)?h(e,t):void 0;return a?o(a,e,r,n):o(i,f(r),e,n)},function(t,o){var r=a(this),s=f(t);if(!k){var u=n(i,r,s,o,i!==e);if(u.done)return u.value}var h=c(r,RegExp),v=r.unicode,y=(r.ignoreCase?"i":"")+(r.multiline?"m":"")+(r.unicode?"u":"")+(g?"g":"y"),x=new h(g?"^(?:"+r.source+")":r,y),w=void 0===o?4294967295:o>>>0;if(0===w)return[];if(0===s.length)return null===p(x,s)?[s]:[];for(var S=0,O=0,A=[];O<s.length;){x.lastIndex=g?0:O;var I,D=p(x,g?E(s,O):s);if(null===D||(I=b(d(x.lastIndex+(g?O:0)),s.length))===S)O=l(s,O,v);else{if(m(A,E(s,S,O)),A.length===w)return A;for(var C=1;C<=D.length-1;C++)if(m(A,D[C]),A.length===w)return A;O=S=I}}return m(A,E(s,S)),A}]},k||!x,g)},757:function(t,e,n){var o=n(7751),i=n(4901),r=n(1625),a=n(7040),s=Object;t.exports=a?function(t){return"symbol"==typeof t}:function(t){var e=o("Symbol");return i(e)&&r(e.prototype,s(t))}},788:function(t,e,n){var o=n(34),i=n(2195),r=n(8227)("match");t.exports=function(t){var e;return o(t)&&(void 0!==(e=t[r])?!!e:"RegExp"===i(t))}},825:function(t,e,n){var o=n(6518),i=n(7751),r=n(8745),a=n(566),s=n(5548),u=n(8551),c=n(34),l=n(2360),d=n(9039),f=i("Reflect","construct"),h=Object.prototype,p=[].push,v=d(function(){function t(){}return!(f(function(){},[],t)instanceof t)}),y=!d(function(){f(function(){})}),g=v||y;o({target:"Reflect",stat:!0,forced:g,sham:g},{construct:function(t,e){s(t),u(e);var n=arguments.length<3?t:s(arguments[2]);if(y&&!v)return f(t,e,n);if(t===n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var o=[null];return r(p,o,e),new(r(a,t,o))}var i=n.prototype,d=l(c(i)?i:h),g=r(t,d,e);return c(g)?g:d}})},851:function(t,e,n){var o=n(6955),i=n(5966),r=n(4117),a=n(6269),s=n(8227)("iterator");t.exports=function(t){if(!r(t))return i(t,s)||i(t,"@@iterator")||a[o(t)]}},926:function(t,e,n){var o=n(9306),i=n(8981),r=n(7055),a=n(6198),s=TypeError,u="Reduce of empty array with no initial value",c=function(t){return function(e,n,c,l){var d=i(e),f=r(d),h=a(d);if(o(n),0===h&&c<2)throw new s(u);var p=t?h-1:0,v=t?-1:1;if(c<2)for(;;){if(p in f){l=f[p],p+=v;break}if(p+=v,t?p<0:h<=p)throw new s(u)}for(;t?p>=0:h>p;p+=v)p in f&&(l=n(l,f[p],p,d));return l}};t.exports={left:c(!1),right:c(!0)}},1034:function(t,e,n){var o=n(9565),i=n(9297),r=n(1625),a=n(5213),s=n(7979),u=RegExp.prototype;t.exports=a.correct?function(t){return t.flags}:function(t){return a.correct||!r(u,t)||i(t,"flags")?t.flags:o(s,t)}},1056:function(t,e,n){var o=n(4913).f;t.exports=function(t,e,n){n in t||o(t,n,{configurable:!0,get:function(){return e[n]},set:function(t){e[n]=t}})}},1072:function(t,e,n){var o=n(1828),i=n(8727);t.exports=Object.keys||function(t){return o(t,i)}},1088:function(t,e,n){var o=n(6518),i=n(9565),r=n(6395),a=n(350),s=n(4901),u=n(3994),c=n(2787),l=n(2967),d=n(687),f=n(6699),h=n(6840),p=n(8227),v=n(6269),y=n(7657),g=a.PROPER,b=a.CONFIGURABLE,m=y.IteratorPrototype,E=y.BUGGY_SAFARI_ITERATORS,x=p("iterator"),k="keys",w="values",S="entries",O=function(){return this};t.exports=function(t,e,n,a,p,y,A){u(n,e,a);var I,D,C,P=function(t){if(t===p&&R)return R;if(!E&&t&&t in M)return M[t];switch(t){case k:case w:case S:return function(){return new n(this,t)}}return function(){return new n(this)}},N=e+" Iterator",L=!1,M=t.prototype,T=M[x]||M["@@iterator"]||p&&M[p],R=!E&&T||P(p),B="Array"===e&&M.entries||T;if(B&&(I=c(B.call(new t)))!==Object.prototype&&I.next&&(r||c(I)===m||(l?l(I,m):s(I[x])||h(I,x,O)),d(I,N,!0,!0),r&&(v[N]=O)),g&&p===w&&T&&T.name!==w&&(!r&&b?f(M,"name",w):(L=!0,R=function(){return i(T,this)})),p)if(D={values:P(w),keys:y?R:P(k),entries:P(S)},A)for(C in D)(E||L||!(C in M))&&h(M,C,D[C]);else o({target:e,proto:!0,forced:E||L},D);return r&&!A||M[x]===R||h(M,x,R,{name:p}),v[e]=R,D}},1181:function(t,e,n){var o,i,r,a=n(8622),s=n(4576),u=n(34),c=n(6699),l=n(9297),d=n(7629),f=n(6119),h=n(421),p="Object already initialized",v=s.TypeError,y=s.WeakMap;if(a||d.state){var g=d.state||(d.state=new y);g.get=g.get,g.has=g.has,g.set=g.set,o=function(t,e){if(g.has(t))throw new v(p);return e.facade=t,g.set(t,e),e},i=function(t){return g.get(t)||{}},r=function(t){return g.has(t)}}else{var b=f("state");h[b]=!0,o=function(t,e){if(l(t,b))throw new v(p);return e.facade=t,c(t,b,e),e},i=function(t){return l(t,b)?t[b]:{}},r=function(t){return l(t,b)}}t.exports={set:o,get:i,has:r,enforce:function(t){return r(t)?i(t):o(t,{})},getterFor:function(t){return function(e){var n;if(!u(e)||(n=i(e)).type!==t)throw new v("Incompatible receiver, "+t+" required");return n}}}},1240:function(t,e,n){var o=n(9504);t.exports=o(1.1.valueOf)},1278:function(t,e,n){var o=n(6518),i=n(3724),r=n(5031),a=n(5397),s=n(7347),u=n(4659);o({target:"Object",stat:!0,sham:!i},{getOwnPropertyDescriptors:function(t){for(var e,n,o=a(t),i=s.f,c=r(o),l={},d=0;c.length>d;)void 0!==(n=i(o,e=c[d++]))&&u(l,e,n);return l}})},1291:function(t,e,n){var o=n(741);t.exports=function(t){var e=+t;return e!=e||0===e?0:o(e)}},1296:function(t,e,n){var o=n(4495);t.exports=o&&!!Symbol.for&&!!Symbol.keyFor},1415:function(t,e,n){n(2405)},1436:function(t,e,n){var o=n(8227)("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[o]=!1,"/./"[t](e)}catch(t){}}return!1}},1469:function(t,e,n){var o=n(7433);t.exports=function(t,e){return new(o(t))(0===e?0:e)}},1480:function(t,e,n){var o=n(6518),i=n(9039),r=n(298).f;o({target:"Object",stat:!0,forced:i(function(){return!Object.getOwnPropertyNames(1)})},{getOwnPropertyNames:r})},1510:function(t,e,n){var o=n(6518),i=n(7751),r=n(9297),a=n(655),s=n(5745),u=n(1296),c=s("string-to-symbol-registry"),l=s("symbol-to-string-registry");o({target:"Symbol",stat:!0,forced:!u},{for:function(t){var e=a(t);if(r(c,e))return c[e];var n=i("Symbol")(e);return c[e]=n,l[n]=e,n}})},1625:function(t,e,n){var o=n(9504);t.exports=o({}.isPrototypeOf)},1699:function(t,e,n){var o=n(6518),i=n(9504),r=n(5749),a=n(7750),s=n(655),u=n(1436),c=i("".indexOf);o({target:"String",proto:!0,forced:!u("includes")},{includes:function(t){return!!~c(s(a(this)),s(r(t)),arguments.length>1?arguments[1]:void 0)}})},1761:function(t,e,n){var o=n(9565),i=n(9504),r=n(9228),a=n(8551),s=n(34),u=n(8014),c=n(655),l=n(7750),d=n(5966),f=n(7829),h=n(1034),p=n(6682),v=i("".indexOf);r("match",function(t,e,n){return[function(e){var n=l(this),i=s(e)?d(e,t):void 0;return i?o(i,e,n):new RegExp(e)[t](c(n))},function(t){var o=a(this),i=c(t),r=n(e,o,i);if(r.done)return r.value;var s=c(h(o));if(-1===v(s,"g"))return p(o,i);var l=-1!==v(s,"u");o.lastIndex=0;for(var d,y=[],g=0;null!==(d=p(o,i));){var b=c(d[0]);y[g]=b,""===b&&(o.lastIndex=f(i,u(o.lastIndex),l)),g++}return 0===g?null:y}]})},1828:function(t,e,n){var o=n(9504),i=n(9297),r=n(5397),a=n(9617).indexOf,s=n(421),u=o([].push);t.exports=function(t,e){var n,o=r(t),c=0,l=[];for(n in o)!i(s,n)&&i(o,n)&&u(l,n);for(;e.length>c;)i(o,n=e[c++])&&(~a(l,n)||u(l,n));return l}},1951:function(t,e,n){var o=n(8227);e.f=o},2008:function(t,e,n){var o=n(6518),i=n(9213).filter;o({target:"Array",proto:!0,forced:!n(597)("filter")},{filter:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},2010:function(t,e,n){var o=n(3724),i=n(350).EXISTS,r=n(9504),a=n(2106),s=Function.prototype,u=r(s.toString),c=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,l=r(c.exec);o&&!i&&a(s,"name",{configurable:!0,get:function(){try{return l(c,u(this))[1]}catch(t){return""}}})},2062:function(t,e,n){var o=n(6518),i=n(9213).map;o({target:"Array",proto:!0,forced:!n(597)("map")},{map:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},2087:function(t,e,n){var o=n(34),i=Math.floor;t.exports=Number.isInteger||function(t){return!o(t)&&isFinite(t)&&i(t)===t}},2106:function(t,e,n){var o=n(283),i=n(4913);t.exports=function(t,e,n){return n.get&&o(n.get,e,{getter:!0}),n.set&&o(n.set,e,{setter:!0}),i.f(t,e,n)}},2140:function(t,e,n){var o={};o[n(8227)("toStringTag")]="z",t.exports="[object z]"===String(o)},2195:function(t,e,n){var o=n(9504),i=o({}.toString),r=o("".slice);t.exports=function(t){return r(i(t),8,-1)}},2211:function(t,e,n){var o=n(9039);t.exports=!o(function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})},2259:function(t,e,n){n(511)("iterator")},2293:function(t,e,n){var o=n(8551),i=n(5548),r=n(4117),a=n(8227)("species");t.exports=function(t,e){var n,s=o(t).constructor;return void 0===s||r(n=o(s)[a])?e:i(n)}},2333:function(t,e,n){var o=n(1291),i=n(655),r=n(7750),a=RangeError;t.exports=function(t){var e=i(r(this)),n="",s=o(t);if(s<0||s===1/0)throw new a("Wrong number of repetitions");for(;s>0;(s>>>=1)&&(e+=e))1&s&&(n+=e);return n}},2360:function(t,e,n){var o,i=n(8551),r=n(6801),a=n(8727),s=n(421),u=n(397),c=n(4055),l=n(6119),d="prototype",f="script",h=l("IE_PROTO"),p=function(){},v=function(t){return"<"+f+">"+t+"</"+f+">"},y=function(t){t.write(v("")),t.close();var e=t.parentWindow.Object;return t=null,e},g=function(){try{o=new ActiveXObject("htmlfile")}catch(t){}var t,e,n;g="undefined"!=typeof document?document.domain&&o?y(o):(e=c("iframe"),n="java"+f+":",e.style.display="none",u.appendChild(e),e.src=String(n),(t=e.contentWindow.document).open(),t.write(v("document.F=Object")),t.close(),t.F):y(o);for(var i=a.length;i--;)delete g[d][a[i]];return g()};s[h]=!0,t.exports=Object.create||function(t,e){var n;return null!==t?(p[d]=i(t),n=new p,p[d]=null,n[h]=t):n=g(),void 0===e?n:r.f(n,e)}},2405:function(t,e,n){n(6468)("Set",function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},n(6938))},2478:function(t,e,n){var o=n(9504),i=n(8981),r=Math.floor,a=o("".charAt),s=o("".replace),u=o("".slice),c=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,l=/\$([$&'`]|\d{1,2})/g;t.exports=function(t,e,n,o,d,f){var h=n+t.length,p=o.length,v=l;return void 0!==d&&(d=i(d),v=c),s(f,v,function(i,s){var c;switch(a(s,0)){case"$":return"$";case"&":return t;case"`":return u(e,0,n);case"'":return u(e,h);case"<":c=d[u(s,1,-1)];break;default:var l=+s;if(0===l)return i;if(l>p){var f=r(l/10);return 0===f?i:f<=p?void 0===o[f-1]?a(s,1):o[f-1]+a(s,1):i}c=o[l-1]}return void 0===c?"":c})}},2529:function(t){t.exports=function(t,e){return{value:t,done:e}}},2551:function(t,e,n){var o=n(6395),i=n(4576),r=n(9039),a=n(3607);t.exports=o||!r(function(){if(!(a&&a<535)){var t=Math.random();__defineSetter__.call(null,t,function(){}),delete i[t]}})},2637:function(t,e,n){n(6518)({target:"Number",stat:!0},{isInteger:n(2087)})},2652:function(t,e,n){var o=n(6080),i=n(9565),r=n(8551),a=n(6823),s=n(4209),u=n(6198),c=n(1625),l=n(81),d=n(851),f=n(9539),h=TypeError,p=function(t,e){this.stopped=t,this.result=e},v=p.prototype;t.exports=function(t,e,n){var y,g,b,m,E,x,k,w=n&&n.that,S=!(!n||!n.AS_ENTRIES),O=!(!n||!n.IS_RECORD),A=!(!n||!n.IS_ITERATOR),I=!(!n||!n.INTERRUPTED),D=o(e,w),C=function(t){return y&&f(y,"normal"),new p(!0,t)},P=function(t){return S?(r(t),I?D(t[0],t[1],C):D(t[0],t[1])):I?D(t,C):D(t)};if(O)y=t.iterator;else if(A)y=t;else{if(!(g=d(t)))throw new h(a(t)+" is not iterable");if(s(g)){for(b=0,m=u(t);m>b;b++)if((E=P(t[b]))&&c(v,E))return E;return new p(!1)}y=l(t,g)}for(x=O?t.next:y.next;!(k=i(x,y)).done;){try{E=P(k.value)}catch(t){f(y,"throw",t)}if("object"==typeof E&&E&&c(v,E))return E}return new p(!1)}},2675:function(t,e,n){n(6761),n(1510),n(7812),n(3110),n(9773)},2712:function(t,e,n){var o=n(6518),i=n(926).left,r=n(4598),a=n(9519);o({target:"Array",proto:!0,forced:!n(6193)&&a>79&&a<83||!r("reduce")},{reduce:function(t){var e=arguments.length;return i(this,t,e,e>1?arguments[1]:void 0)}})},2744:function(t,e,n){var o=n(9039);t.exports=!o(function(){return Object.isExtensible(Object.preventExtensions({}))})},2762:function(t,e,n){var o=n(6518),i=n(3802).trim;o({target:"String",proto:!0,forced:n(706)("trim")},{trim:function(){return i(this)}})},2777:function(t,e,n){var o=n(9565),i=n(34),r=n(757),a=n(5966),s=n(4270),u=n(8227),c=TypeError,l=u("toPrimitive");t.exports=function(t,e){if(!i(t)||r(t))return t;var n,u=a(t,l);if(u){if(void 0===e&&(e="default"),n=o(u,t,e),!i(n)||r(n))return n;throw new c("Can't convert object to primitive value")}return void 0===e&&(e="number"),s(t,e)}},2781:function(t,e,n){n(6518)({target:"String",proto:!0},{repeat:n(2333)})},2787:function(t,e,n){var o=n(9297),i=n(4901),r=n(8981),a=n(6119),s=n(2211),u=a("IE_PROTO"),c=Object,l=c.prototype;t.exports=s?c.getPrototypeOf:function(t){var e=r(t);if(o(e,u))return e[u];var n=e.constructor;return i(n)&&e instanceof n?n.prototype:e instanceof c?l:null}},2796:function(t,e,n){var o=n(9039),i=n(4901),r=/#|\.prototype\./,a=function(t,e){var n=u[s(t)];return n===l||n!==c&&(i(e)?o(e):!!e)},s=a.normalize=function(t){return String(t).replace(r,".").toLowerCase()},u=a.data={},c=a.NATIVE="N",l=a.POLYFILL="P";t.exports=a},2839:function(t,e,n){var o=n(4576).navigator,i=o&&o.userAgent;t.exports=i?String(i):""},2892:function(t,e,n){var o=n(6518),i=n(6395),r=n(3724),a=n(4576),s=n(9167),u=n(9504),c=n(2796),l=n(9297),d=n(3167),f=n(1625),h=n(757),p=n(2777),v=n(9039),y=n(8480).f,g=n(7347).f,b=n(4913).f,m=n(1240),E=n(3802).trim,x="Number",k=a[x],w=s[x],S=k.prototype,O=a.TypeError,A=u("".slice),I=u("".charCodeAt),D=function(t){var e,n,o,i,r,a,s,u,c=p(t,"number");if(h(c))throw new O("Cannot convert a Symbol value to a number");if("string"==typeof c&&c.length>2)if(c=E(c),43===(e=I(c,0))||45===e){if(88===(n=I(c,2))||120===n)return NaN}else if(48===e){switch(I(c,1)){case 66:case 98:o=2,i=49;break;case 79:case 111:o=8,i=55;break;default:return+c}for(a=(r=A(c,2)).length,s=0;s<a;s++)if((u=I(r,s))<48||u>i)return NaN;return parseInt(r,o)}return+c},C=c(x,!k(" 0o1")||!k("0b1")||k("+0x1")),P=function(t){var e,n=arguments.length<1?0:k(function(t){var e=p(t,"number");return"bigint"==typeof e?e:D(e)}(t));return f(S,e=this)&&v(function(){m(e)})?d(Object(n),this,P):n};P.prototype=S,C&&!i&&(S.constructor=P),o({global:!0,constructor:!0,wrap:!0,forced:C},{Number:P});var N=function(t,e){for(var n,o=r?y(e):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),i=0;o.length>i;i++)l(e,n=o[i])&&!l(t,n)&&b(t,n,g(e,n))};i&&w&&N(s[x],w),(C||i)&&N(s[x],k)},2953:function(t,e,n){var o=n(4576),i=n(7400),r=n(9296),a=n(3792),s=n(6699),u=n(687),c=n(8227)("iterator"),l=a.values,d=function(t,e){if(t){if(t[c]!==l)try{s(t,c,l)}catch(e){t[c]=l}if(u(t,e,!0),i[e])for(var n in a)if(t[n]!==a[n])try{s(t,n,a[n])}catch(e){t[n]=a[n]}}};for(var f in i)d(o[f]&&o[f].prototype,f);d(r,"DOMTokenList")},2967:function(t,e,n){var o=n(6706),i=n(34),r=n(7750),a=n(3506);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=o(Object.prototype,"__proto__","set"))(n,[]),e=n instanceof Array}catch(t){}return function(n,o){return r(n),a(o),i(n)?(e?t(n,o):n.__proto__=o,n):n}}():void 0)},3110:function(t,e,n){var o=n(6518),i=n(7751),r=n(8745),a=n(9565),s=n(9504),u=n(9039),c=n(4901),l=n(757),d=n(7680),f=n(6933),h=n(4495),p=String,v=i("JSON","stringify"),y=s(/./.exec),g=s("".charAt),b=s("".charCodeAt),m=s("".replace),E=s(1.1.toString),x=/[\uD800-\uDFFF]/g,k=/^[\uD800-\uDBFF]$/,w=/^[\uDC00-\uDFFF]$/,S=!h||u(function(){var t=i("Symbol")("stringify detection");return"[null]"!==v([t])||"{}"!==v({a:t})||"{}"!==v(Object(t))}),O=u(function(){return'"\\udf06\\ud834"'!==v("\udf06\ud834")||'"\\udead"'!==v("\udead")}),A=function(t,e){var n=d(arguments),o=f(e);if(c(o)||void 0!==t&&!l(t))return n[1]=function(t,e){if(c(o)&&(e=a(o,this,p(t),e)),!l(e))return e},r(v,null,n)},I=function(t,e,n){var o=g(n,e-1),i=g(n,e+1);return y(k,t)&&!y(w,i)||y(w,t)&&!y(k,o)?"\\u"+E(b(t,0),16):t};v&&o({target:"JSON",stat:!0,arity:3,forced:S||O},{stringify:function(t,e,n){var o=d(arguments),i=r(S?A:v,null,o);return O&&"string"==typeof i?m(i,x,I):i}})},3167:function(t,e,n){var o=n(4901),i=n(34),r=n(2967);t.exports=function(t,e,n){var a,s;return r&&o(a=e.constructor)&&a!==n&&i(s=a.prototype)&&s!==n.prototype&&r(t,s),t}},3179:function(t,e,n){var o=n(2140),i=n(6955);t.exports=o?{}.toString:function(){return"[object "+i(this)+"]"}},3392:function(t,e,n){var o=n(9504),i=0,r=Math.random(),a=o(1.1.toString);t.exports=function(t){return"Symbol("+(void 0===t?"":t)+")_"+a(++i+r,36)}},3418:function(t,e,n){var o=n(6518),i=n(7916);o({target:"Array",stat:!0,forced:!n(4428)(function(t){Array.from(t)})},{from:i})},3451:function(t,e,n){var o=n(6518),i=n(9504),r=n(421),a=n(34),s=n(9297),u=n(4913).f,c=n(8480),l=n(298),d=n(4124),f=n(3392),h=n(2744),p=!1,v=f("meta"),y=0,g=function(t){u(t,v,{value:{objectID:"O"+y++,weakData:{}}})},b=t.exports={enable:function(){b.enable=function(){},p=!0;var t=c.f,e=i([].splice),n={};n[v]=1,t(n).length&&(c.f=function(n){for(var o=t(n),i=0,r=o.length;i<r;i++)if(o[i]===v){e(o,i,1);break}return o},o({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:l.f}))},fastKey:function(t,e){if(!a(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!s(t,v)){if(!d(t))return"F";if(!e)return"E";g(t)}return t[v].objectID},getWeakData:function(t,e){if(!s(t,v)){if(!d(t))return!0;if(!e)return!1;g(t)}return t[v].weakData},onFreeze:function(t){return h&&p&&d(t)&&!s(t,v)&&g(t),t}};r[v]=!0},3500:function(t,e,n){var o=n(4576),i=n(7400),r=n(9296),a=n(235),s=n(6699),u=function(t){if(t&&t.forEach!==a)try{s(t,"forEach",a)}catch(e){t.forEach=a}};for(var c in i)i[c]&&u(o[c]&&o[c].prototype);u(r)},3506:function(t,e,n){var o=n(3925),i=String,r=TypeError;t.exports=function(t){if(o(t))return t;throw new r("Can't set "+i(t)+" as a prototype")}},3517:function(t,e,n){var o=n(9504),i=n(9039),r=n(4901),a=n(6955),s=n(7751),u=n(3706),c=function(){},l=s("Reflect","construct"),d=/^\s*(?:class|function)\b/,f=o(d.exec),h=!d.test(c),p=function(t){if(!r(t))return!1;try{return l(c,[],t),!0}catch(t){return!1}},v=function(t){if(!r(t))return!1;switch(a(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return h||!!f(d,u(t))}catch(t){return!0}};v.sham=!0,t.exports=!l||i(function(){var t;return p(p.call)||!p(Object)||!p(function(){t=!0})||t})?v:p},3607:function(t,e,n){var o=n(2839).match(/AppleWebKit\/(\d+)\./);t.exports=!!o&&+o[1]},3635:function(t,e,n){var o=n(9039),i=n(4576).RegExp;t.exports=o(function(){var t=i(".","s");return!(t.dotAll&&t.test("\n")&&"s"===t.flags)})},3640:function(t,e,n){var o=n(8551),i=n(4270),r=TypeError;t.exports=function(t){if(o(this),"string"===t||"default"===t)t="string";else if("number"!==t)throw new r("Incorrect hint");return i(this,t)}},3706:function(t,e,n){var o=n(9504),i=n(4901),r=n(7629),a=o(Function.toString);i(r.inspectSource)||(r.inspectSource=function(t){return a(t)}),t.exports=r.inspectSource},3709:function(t,e,n){var o=n(2839).match(/firefox\/(\d+)/i);t.exports=!!o&&+o[1]},3717:function(t,e){e.f=Object.getOwnPropertySymbols},3724:function(t,e,n){var o=n(9039);t.exports=!o(function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]})},3763:function(t,e,n){var o=n(2839);t.exports=/MSIE|Trident/.test(o)},3792:function(t,e,n){var o=n(5397),i=n(6469),r=n(6269),a=n(1181),s=n(4913).f,u=n(1088),c=n(2529),l=n(6395),d=n(3724),f="Array Iterator",h=a.set,p=a.getterFor(f);t.exports=u(Array,"Array",function(t,e){h(this,{type:f,target:o(t),index:0,kind:e})},function(){var t=p(this),e=t.target,n=t.index++;if(!e||n>=e.length)return t.target=null,c(void 0,!0);switch(t.kind){case"keys":return c(n,!1);case"values":return c(e[n],!1)}return c([n,e[n]],!1)},"values");var v=r.Arguments=r.Array;if(i("keys"),i("values"),i("entries"),!l&&d&&"values"!==v.name)try{s(v,"name",{value:"values"})}catch(t){}},3802:function(t,e,n){var o=n(9504),i=n(7750),r=n(655),a=n(7452),s=o("".replace),u=RegExp("^["+a+"]+"),c=RegExp("(^|[^"+a+"])["+a+"]+$"),l=function(t){return function(e){var n=r(i(e));return 1&t&&(n=s(n,u,"")),2&t&&(n=s(n,c,"$1")),n}};t.exports={start:l(1),end:l(2),trim:l(3)}},3851:function(t,e,n){var o=n(6518),i=n(9039),r=n(5397),a=n(7347).f,s=n(3724);o({target:"Object",stat:!0,forced:!s||i(function(){a(1)}),sham:!s},{getOwnPropertyDescriptor:function(t,e){return a(r(t),e)}})},3925:function(t,e,n){var o=n(34);t.exports=function(t){return o(t)||null===t}},3994:function(t,e,n){var o=n(7657).IteratorPrototype,i=n(2360),r=n(6980),a=n(687),s=n(6269),u=function(){return this};t.exports=function(t,e,n,c){var l=e+" Iterator";return t.prototype=i(o,{next:r(+!c,n)}),a(t,l,!1,!0),s[l]=u,t}},4055:function(t,e,n){var o=n(4576),i=n(34),r=o.document,a=i(r)&&i(r.createElement);t.exports=function(t){return a?r.createElement(t):{}}},4117:function(t){t.exports=function(t){return null==t}},4124:function(t,e,n){var o=n(9039),i=n(34),r=n(2195),a=n(5652),s=Object.isExtensible,u=o(function(){s(1)});t.exports=u||a?function(t){return!!i(t)&&((!a||"ArrayBuffer"!==r(t))&&(!s||s(t)))}:s},4209:function(t,e,n){var o=n(8227),i=n(6269),r=o("iterator"),a=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||a[r]===t)}},4213:function(t,e,n){var o=n(3724),i=n(9504),r=n(9565),a=n(9039),s=n(1072),u=n(3717),c=n(8773),l=n(8981),d=n(7055),f=Object.assign,h=Object.defineProperty,p=i([].concat);t.exports=!f||a(function(){if(o&&1!==f({b:1},f(h({},"a",{enumerable:!0,get:function(){h(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},n=Symbol("assign detection"),i="abcdefghijklmnopqrst";return t[n]=7,i.split("").forEach(function(t){e[t]=t}),7!==f({},t)[n]||s(f({},e)).join("")!==i})?function(t,e){for(var n=l(t),i=arguments.length,a=1,f=u.f,h=c.f;i>a;)for(var v,y=d(arguments[a++]),g=f?p(s(y),f(y)):s(y),b=g.length,m=0;b>m;)v=g[m++],o&&!r(h,y,v)||(n[v]=y[v]);return n}:f},4215:function(t,e,n){var o=n(4576),i=n(2839),r=n(2195),a=function(t){return i.slice(0,t.length)===t};t.exports=a("Bun/")?"BUN":a("Cloudflare-Workers")?"CLOUDFLARE":a("Deno/")?"DENO":a("Node.js/")?"NODE":o.Bun&&"string"==typeof Bun.version?"BUN":o.Deno&&"object"==typeof Deno.version?"DENO":"process"===r(o.process)?"NODE":o.window&&o.document?"BROWSER":"REST"},4270:function(t,e,n){var o=n(9565),i=n(4901),r=n(34),a=TypeError;t.exports=function(t,e){var n,s;if("string"===e&&i(n=t.toString)&&!r(s=o(n,t)))return s;if(i(n=t.valueOf)&&!r(s=o(n,t)))return s;if("string"!==e&&i(n=t.toString)&&!r(s=o(n,t)))return s;throw new a("Can't convert object to primitive value")}},4376:function(t,e,n){var o=n(2195);t.exports=Array.isArray||function(t){return"Array"===o(t)}},4423:function(t,e,n){var o=n(6518),i=n(9617).includes,r=n(9039),a=n(6469);o({target:"Array",proto:!0,forced:r(function(){return!Array(1).includes()})},{includes:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),a("includes")},4428:function(t,e,n){var o=n(8227)("iterator"),i=!1;try{var r=0,a={next:function(){return{done:!!r++}},return:function(){i=!0}};a[o]=function(){return this},Array.from(a,function(){throw 2})}catch(t){}t.exports=function(t,e){try{if(!e&&!i)return!1}catch(t){return!1}var n=!1;try{var r={};r[o]=function(){return{next:function(){return{done:n=!0}}}},t(r)}catch(t){}return n}},4488:function(t,e,n){var o=n(7680),i=Math.floor,r=function(t,e){var n=t.length;if(n<8)for(var a,s,u=1;u<n;){for(s=u,a=t[u];s&&e(t[s-1],a)>0;)t[s]=t[--s];s!==u++&&(t[s]=a)}else for(var c=i(n/2),l=r(o(t,0,c),e),d=r(o(t,c),e),f=l.length,h=d.length,p=0,v=0;p<f||v<h;)t[p+v]=p<f&&v<h?e(l[p],d[v])<=0?l[p++]:d[v++]:p<f?l[p++]:d[v++];return t};t.exports=r},4495:function(t,e,n){var o=n(9519),i=n(9039),r=n(4576).String;t.exports=!!Object.getOwnPropertySymbols&&!i(function(){var t=Symbol("symbol detection");return!r(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&o&&o<41})},4527:function(t,e,n){var o=n(3724),i=n(4376),r=TypeError,a=Object.getOwnPropertyDescriptor,s=o&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(t){return t instanceof TypeError}}();t.exports=s?function(t,e){if(i(t)&&!a(t,"length").writable)throw new r("Cannot set read only .length");return t.length=e}:function(t,e){return t.length=e}},4554:function(t,e,n){var o=n(6518),i=n(8981),r=n(5610),a=n(1291),s=n(6198),u=n(4527),c=n(6837),l=n(1469),d=n(4659),f=n(4606),h=n(597)("splice"),p=Math.max,v=Math.min;o({target:"Array",proto:!0,forced:!h},{splice:function(t,e){var n,o,h,y,g,b,m=i(this),E=s(m),x=r(t,E),k=arguments.length;for(0===k?n=o=0:1===k?(n=0,o=E-x):(n=k-2,o=v(p(a(e),0),E-x)),c(E+n-o),h=l(m,o),y=0;y<o;y++)(g=x+y)in m&&d(h,y,m[g]);if(h.length=o,n<o){for(y=x;y<E-o;y++)b=y+n,(g=y+o)in m?m[b]=m[g]:f(m,b);for(y=E;y>E-o+n;y--)f(m,y-1)}else if(n>o)for(y=E-o;y>x;y--)b=y+n-1,(g=y+o-1)in m?m[b]=m[g]:f(m,b);for(y=0;y<n;y++)m[y+x]=arguments[y+2];return u(m,E-o+n),h}})},4576:function(t,e,n){var o=function(t){return t&&t.Math===Math&&t};t.exports=o("object"==typeof globalThis&&globalThis)||o("object"==typeof window&&window)||o("object"==typeof self&&self)||o("object"==typeof n.g&&n.g)||o("object"==typeof this&&this)||function(){return this}()||Function("return this")()},4598:function(t,e,n){var o=n(9039);t.exports=function(t,e){var n=[][t];return!!n&&o(function(){n.call(null,e||function(){return 1},1)})}},4606:function(t,e,n){var o=n(6823),i=TypeError;t.exports=function(t,e){if(!delete t[e])throw new i("Cannot delete property "+o(e)+" of "+o(t))}},4659:function(t,e,n){var o=n(3724),i=n(4913),r=n(6980);t.exports=function(t,e,n){o?i.f(t,e,r(0,n)):t[e]=n}},4782:function(t,e,n){var o=n(6518),i=n(4376),r=n(3517),a=n(34),s=n(5610),u=n(6198),c=n(5397),l=n(4659),d=n(8227),f=n(597),h=n(7680),p=f("slice"),v=d("species"),y=Array,g=Math.max;o({target:"Array",proto:!0,forced:!p},{slice:function(t,e){var n,o,d,f=c(this),p=u(f),b=s(t,p),m=s(void 0===e?p:e,p);if(i(f)&&(n=f.constructor,(r(n)&&(n===y||i(n.prototype))||a(n)&&null===(n=n[v]))&&(n=void 0),n===y||void 0===n))return h(f,b,m);for(o=new(void 0===n?y:n)(g(m-b,0)),d=0;b<m;b++,d++)b in f&&l(o,d,f[b]);return o.length=d,o}})},4864:function(t,e,n){var o=n(3724),i=n(4576),r=n(9504),a=n(2796),s=n(3167),u=n(6699),c=n(2360),l=n(8480).f,d=n(1625),f=n(788),h=n(655),p=n(1034),v=n(8429),y=n(1056),g=n(6840),b=n(9039),m=n(9297),E=n(1181).enforce,x=n(7633),k=n(8227),w=n(3635),S=n(8814),O=k("match"),A=i.RegExp,I=A.prototype,D=i.SyntaxError,C=r(I.exec),P=r("".charAt),N=r("".replace),L=r("".indexOf),M=r("".slice),T=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,R=/a/g,B=/a/g,K=new A(R)!==R,j=v.MISSED_STICKY,F=v.UNSUPPORTED_Y,_=o&&(!K||j||w||S||b(function(){return B[O]=!1,A(R)!==R||A(B)===B||"/a/i"!==String(A(R,"i"))}));if(a("RegExp",_)){for(var U=function(t,e){var n,o,i,r,a,l,v=d(I,this),y=f(t),g=void 0===e,b=[],x=t;if(!v&&y&&g&&t.constructor===U)return t;if((y||d(I,t))&&(t=t.source,g&&(e=p(x))),t=void 0===t?"":h(t),e=void 0===e?"":h(e),x=t,w&&"dotAll"in R&&(o=!!e&&L(e,"s")>-1)&&(e=N(e,/s/g,"")),n=e,j&&"sticky"in R&&(i=!!e&&L(e,"y")>-1)&&F&&(e=N(e,/y/g,"")),S&&(r=function(t){for(var e,n=t.length,o=0,i="",r=[],a=c(null),s=!1,u=!1,l=0,d="";o<=n;o++){if("\\"===(e=P(t,o)))e+=P(t,++o);else if("]"===e)s=!1;else if(!s)switch(!0){case"["===e:s=!0;break;case"("===e:if(i+=e,"?:"===M(t,o+1,o+3))continue;C(T,M(t,o+1))&&(o+=2,u=!0),l++;continue;case">"===e&&u:if(""===d||m(a,d))throw new D("Invalid capture group name");a[d]=!0,r[r.length]=[d,l],u=!1,d="";continue}u?d+=e:i+=e}return[i,r]}(t),t=r[0],b=r[1]),a=s(A(t,e),v?this:I,U),(o||i||b.length)&&(l=E(a),o&&(l.dotAll=!0,l.raw=U(function(t){for(var e,n=t.length,o=0,i="",r=!1;o<=n;o++)"\\"!==(e=P(t,o))?r||"."!==e?("["===e?r=!0:"]"===e&&(r=!1),i+=e):i+="[\\s\\S]":i+=e+P(t,++o);return i}(t),n)),i&&(l.sticky=!0),b.length&&(l.groups=b)),t!==x)try{u(a,"source",""===x?"(?:)":x)}catch(t){}return a},H=l(A),q=0;H.length>q;)y(U,A,H[q++]);I.constructor=U,U.prototype=I,g(i,"RegExp",U,{constructor:!0})}x("RegExp")},4901:function(t){var e="object"==typeof document&&document.all;t.exports=void 0===e&&void 0!==e?function(t){return"function"==typeof t||t===e}:function(t){return"function"==typeof t}},4913:function(t,e,n){var o=n(3724),i=n(5917),r=n(8686),a=n(8551),s=n(6969),u=TypeError,c=Object.defineProperty,l=Object.getOwnPropertyDescriptor,d="enumerable",f="configurable",h="writable";e.f=o?r?function(t,e,n){if(a(t),e=s(e),a(n),"function"==typeof t&&"prototype"===e&&"value"in n&&h in n&&!n[h]){var o=l(t,e);o&&o[h]&&(t[e]=n.value,n={configurable:f in n?n[f]:o[f],enumerable:d in n?n[d]:o[d],writable:!1})}return c(t,e,n)}:c:function(t,e,n){if(a(t),e=s(e),a(n),i)try{return c(t,e,n)}catch(t){}if("get"in n||"set"in n)throw new u("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},5031:function(t,e,n){var o=n(7751),i=n(9504),r=n(8480),a=n(3717),s=n(8551),u=i([].concat);t.exports=o("Reflect","ownKeys")||function(t){var e=r.f(s(t)),n=a.f;return n?u(e,n(t)):e}},5213:function(t,e,n){var o=n(4576),i=n(9039),r=o.RegExp,a=!i(function(){var t=!0;try{r(".","d")}catch(e){t=!1}var e={},n="",o=t?"dgimsy":"gimsy",i=function(t,o){Object.defineProperty(e,t,{get:function(){return n+=o,!0}})},a={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};for(var s in t&&(a.hasIndices="d"),a)i(s,a[s]);return Object.getOwnPropertyDescriptor(r.prototype,"flags").get.call(e)!==o||n!==o});t.exports={correct:a}},5276:function(t,e,n){var o=n(6518),i=n(7476),r=n(9617).indexOf,a=n(4598),s=i([].indexOf),u=!!s&&1/s([1],1,-0)<0;o({target:"Array",proto:!0,forced:u||!a("indexOf")},{indexOf:function(t){var e=arguments.length>1?arguments[1]:void 0;return u?s(this,t,e)||0:r(this,t,e)}})},5397:function(t,e,n){var o=n(7055),i=n(7750);t.exports=function(t){return o(i(t))}},5440:function(t,e,n){var o=n(8745),i=n(9565),r=n(9504),a=n(9228),s=n(9039),u=n(8551),c=n(4901),l=n(34),d=n(1291),f=n(8014),h=n(655),p=n(7750),v=n(7829),y=n(5966),g=n(2478),b=n(1034),m=n(6682),E=n(8227)("replace"),x=Math.max,k=Math.min,w=r([].concat),S=r([].push),O=r("".indexOf),A=r("".slice),I=function(t){return void 0===t?t:String(t)},D="$0"==="a".replace(/./,"$0"),C=!!/./[E]&&""===/./[E]("a","$0");a("replace",function(t,e,n){var r=C?"$":"$0";return[function(t,n){var o=p(this),r=l(t)?y(t,E):void 0;return r?i(r,t,o,n):i(e,h(o),t,n)},function(t,i){var a=u(this),s=h(t);if("string"==typeof i&&-1===O(i,r)&&-1===O(i,"$<")){var l=n(e,a,s,i);if(l.done)return l.value}var p=c(i);p||(i=h(i));var y,E=h(b(a)),D=-1!==O(E,"g");D&&(y=-1!==O(E,"u"),a.lastIndex=0);for(var C,P=[];null!==(C=m(a,s))&&(S(P,C),D);){""===h(C[0])&&(a.lastIndex=v(s,f(a.lastIndex),y))}for(var N="",L=0,M=0;M<P.length;M++){for(var T,R=h((C=P[M])[0]),B=x(k(d(C.index),s.length),0),K=[],j=1;j<C.length;j++)S(K,I(C[j]));var F=C.groups;if(p){var _=w([R],K,B,s);void 0!==F&&S(_,F),T=h(o(i,void 0,_))}else T=g(R,s,B,K,F,i);B>=L&&(N+=A(s,L,B)+T,L=B+R.length)}return N+A(s,L)}]},!!s(function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})||!D||C)},5548:function(t,e,n){var o=n(3517),i=n(6823),r=TypeError;t.exports=function(t){if(o(t))return t;throw new r(i(t)+" is not a constructor")}},5610:function(t,e,n){var o=n(1291),i=Math.max,r=Math.min;t.exports=function(t,e){var n=o(t);return n<0?i(n+e,0):r(n,e)}},5652:function(t,e,n){var o=n(9039);t.exports=o(function(){if("function"==typeof ArrayBuffer){var t=new ArrayBuffer(8);Object.isExtensible(t)&&Object.defineProperty(t,"a",{value:8})}})},5700:function(t,e,n){var o=n(511),i=n(8242);o("toPrimitive"),i()},5745:function(t,e,n){var o=n(7629);t.exports=function(t,e){return o[t]||(o[t]=e||{})}},5749:function(t,e,n){var o=n(788),i=TypeError;t.exports=function(t){if(o(t))throw new i("The method doesn't accept regular expressions");return t}},5917:function(t,e,n){var o=n(3724),i=n(9039),r=n(4055);t.exports=!o&&!i(function(){return 7!==Object.defineProperty(r("div"),"a",{get:function(){return 7}}).a})},5966:function(t,e,n){var o=n(9306),i=n(4117);t.exports=function(t,e){var n=t[e];return i(n)?void 0:o(n)}},6080:function(t,e,n){var o=n(7476),i=n(9306),r=n(616),a=o(o.bind);t.exports=function(t,e){return i(t),void 0===e?t:r?a(t,e):function(){return t.apply(e,arguments)}}},6099:function(t,e,n){var o=n(2140),i=n(6840),r=n(3179);o||i(Object.prototype,"toString",r,{unsafe:!0})},6119:function(t,e,n){var o=n(5745),i=n(3392),r=o("keys");t.exports=function(t){return r[t]||(r[t]=i(t))}},6193:function(t,e,n){var o=n(4215);t.exports="NODE"===o},6198:function(t,e,n){var o=n(8014);t.exports=function(t){return o(t.length)}},6269:function(t){t.exports={}},6279:function(t,e,n){var o=n(6840);t.exports=function(t,e,n){for(var i in e)o(t,i,e[i],n);return t}},6319:function(t,e,n){var o=n(8551),i=n(9539);t.exports=function(t,e,n,r){try{return r?e(o(n)[0],n[1]):e(n)}catch(e){i(t,"throw",e)}}},6395:function(t){t.exports=!1},6468:function(t,e,n){var o=n(6518),i=n(4576),r=n(9504),a=n(2796),s=n(6840),u=n(3451),c=n(2652),l=n(679),d=n(4901),f=n(4117),h=n(34),p=n(9039),v=n(4428),y=n(687),g=n(3167);t.exports=function(t,e,n){var b=-1!==t.indexOf("Map"),m=-1!==t.indexOf("Weak"),E=b?"set":"add",x=i[t],k=x&&x.prototype,w=x,S={},O=function(t){var e=r(k[t]);s(k,t,"add"===t?function(t){return e(this,0===t?0:t),this}:"delete"===t?function(t){return!(m&&!h(t))&&e(this,0===t?0:t)}:"get"===t?function(t){return m&&!h(t)?void 0:e(this,0===t?0:t)}:"has"===t?function(t){return!(m&&!h(t))&&e(this,0===t?0:t)}:function(t,n){return e(this,0===t?0:t,n),this})};if(a(t,!d(x)||!(m||k.forEach&&!p(function(){(new x).entries().next()}))))w=n.getConstructor(e,t,b,E),u.enable();else if(a(t,!0)){var A=new w,I=A[E](m?{}:-0,1)!==A,D=p(function(){A.has(1)}),C=v(function(t){new x(t)}),P=!m&&p(function(){for(var t=new x,e=5;e--;)t[E](e,e);return!t.has(-0)});C||((w=e(function(t,e){l(t,k);var n=g(new x,t,w);return f(e)||c(e,n[E],{that:n,AS_ENTRIES:b}),n})).prototype=k,k.constructor=w),(D||P)&&(O("delete"),O("has"),b&&O("get")),(P||I)&&O(E),m&&k.clear&&delete k.clear}return S[t]=w,o({global:!0,constructor:!0,forced:w!==x},S),y(w,t),m||n.setStrong(w,t,b),w}},6469:function(t,e,n){var o=n(8227),i=n(2360),r=n(4913).f,a=o("unscopables"),s=Array.prototype;void 0===s[a]&&r(s,a,{configurable:!0,value:i(null)}),t.exports=function(t){s[a][t]=!0}},6518:function(t,e,n){var o=n(4576),i=n(7347).f,r=n(6699),a=n(6840),s=n(9433),u=n(7740),c=n(2796);t.exports=function(t,e){var n,l,d,f,h,p=t.target,v=t.global,y=t.stat;if(n=v?o:y?o[p]||s(p,{}):o[p]&&o[p].prototype)for(l in e){if(f=e[l],d=t.dontCallGetSet?(h=i(n,l))&&h.value:n[l],!c(v?l:p+(y?".":"#")+l,t.forced)&&void 0!==d){if(typeof f==typeof d)continue;u(f,d)}(t.sham||d&&d.sham)&&r(f,"sham",!0),a(n,l,f,t)}}},6682:function(t,e,n){var o=n(9565),i=n(8551),r=n(4901),a=n(2195),s=n(7323),u=TypeError;t.exports=function(t,e){var n=t.exec;if(r(n)){var c=o(n,t,e);return null!==c&&i(c),c}if("RegExp"===a(t))return o(s,t,e);throw new u("RegExp#exec called on incompatible receiver")}},6699:function(t,e,n){var o=n(3724),i=n(4913),r=n(6980);t.exports=o?function(t,e,n){return i.f(t,e,r(1,n))}:function(t,e,n){return t[e]=n,t}},6706:function(t,e,n){var o=n(9504),i=n(9306);t.exports=function(t,e,n){try{return o(i(Object.getOwnPropertyDescriptor(t,e)[n]))}catch(t){}}},6761:function(t,e,n){var o=n(6518),i=n(4576),r=n(9565),a=n(9504),s=n(6395),u=n(3724),c=n(4495),l=n(9039),d=n(9297),f=n(1625),h=n(8551),p=n(5397),v=n(6969),y=n(655),g=n(6980),b=n(2360),m=n(1072),E=n(8480),x=n(298),k=n(3717),w=n(7347),S=n(4913),O=n(6801),A=n(8773),I=n(6840),D=n(2106),C=n(5745),P=n(6119),N=n(421),L=n(3392),M=n(8227),T=n(1951),R=n(511),B=n(8242),K=n(687),j=n(1181),F=n(9213).forEach,_=P("hidden"),U="Symbol",H="prototype",q=j.set,z=j.getterFor(U),V=Object[H],$=i.Symbol,G=$&&$[H],Y=i.RangeError,W=i.TypeError,J=i.QObject,X=w.f,Q=S.f,Z=x.f,tt=A.f,et=a([].push),nt=C("symbols"),ot=C("op-symbols"),it=C("wks"),rt=!J||!J[H]||!J[H].findChild,at=function(t,e,n){var o=X(V,e);o&&delete V[e],Q(t,e,n),o&&t!==V&&Q(V,e,o)},st=u&&l(function(){return 7!==b(Q({},"a",{get:function(){return Q(this,"a",{value:7}).a}})).a})?at:Q,ut=function(t,e){var n=nt[t]=b(G);return q(n,{type:U,tag:t,description:e}),u||(n.description=e),n},ct=function(t,e,n){t===V&&ct(ot,e,n),h(t);var o=v(e);return h(n),d(nt,o)?(n.enumerable?(d(t,_)&&t[_][o]&&(t[_][o]=!1),n=b(n,{enumerable:g(0,!1)})):(d(t,_)||Q(t,_,g(1,b(null))),t[_][o]=!0),st(t,o,n)):Q(t,o,n)},lt=function(t,e){h(t);var n=p(e),o=m(n).concat(pt(n));return F(o,function(e){u&&!r(dt,n,e)||ct(t,e,n[e])}),t},dt=function(t){var e=v(t),n=r(tt,this,e);return!(this===V&&d(nt,e)&&!d(ot,e))&&(!(n||!d(this,e)||!d(nt,e)||d(this,_)&&this[_][e])||n)},ft=function(t,e){var n=p(t),o=v(e);if(n!==V||!d(nt,o)||d(ot,o)){var i=X(n,o);return!i||!d(nt,o)||d(n,_)&&n[_][o]||(i.enumerable=!0),i}},ht=function(t){var e=Z(p(t)),n=[];return F(e,function(t){d(nt,t)||d(N,t)||et(n,t)}),n},pt=function(t){var e=t===V,n=Z(e?ot:p(t)),o=[];return F(n,function(t){!d(nt,t)||e&&!d(V,t)||et(o,nt[t])}),o};c||($=function(){if(f(G,this))throw new W("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?y(arguments[0]):void 0,e=L(t),n=function(t){var o=void 0===this?i:this;o===V&&r(n,ot,t),d(o,_)&&d(o[_],e)&&(o[_][e]=!1);var a=g(1,t);try{st(o,e,a)}catch(t){if(!(t instanceof Y))throw t;at(o,e,a)}};return u&&rt&&st(V,e,{configurable:!0,set:n}),ut(e,t)},I(G=$[H],"toString",function(){return z(this).tag}),I($,"withoutSetter",function(t){return ut(L(t),t)}),A.f=dt,S.f=ct,O.f=lt,w.f=ft,E.f=x.f=ht,k.f=pt,T.f=function(t){return ut(M(t),t)},u&&(D(G,"description",{configurable:!0,get:function(){return z(this).description}}),s||I(V,"propertyIsEnumerable",dt,{unsafe:!0}))),o({global:!0,constructor:!0,wrap:!0,forced:!c,sham:!c},{Symbol:$}),F(m(it),function(t){R(t)}),o({target:U,stat:!0,forced:!c},{useSetter:function(){rt=!0},useSimple:function(){rt=!1}}),o({target:"Object",stat:!0,forced:!c,sham:!u},{create:function(t,e){return void 0===e?b(t):lt(b(t),e)},defineProperty:ct,defineProperties:lt,getOwnPropertyDescriptor:ft}),o({target:"Object",stat:!0,forced:!c},{getOwnPropertyNames:ht}),B(),K($,U),N[_]=!0},6801:function(t,e,n){var o=n(3724),i=n(8686),r=n(4913),a=n(8551),s=n(5397),u=n(1072);e.f=o&&!i?Object.defineProperties:function(t,e){a(t);for(var n,o=s(e),i=u(e),c=i.length,l=0;c>l;)r.f(t,n=i[l++],o[n]);return t}},6823:function(t){var e=String;t.exports=function(t){try{return e(t)}catch(t){return"Object"}}},6837:function(t){var e=TypeError;t.exports=function(t){if(t>9007199254740991)throw e("Maximum allowed index exceeded");return t}},6840:function(t,e,n){var o=n(4901),i=n(4913),r=n(283),a=n(9433);t.exports=function(t,e,n,s){s||(s={});var u=s.enumerable,c=void 0!==s.name?s.name:e;if(o(n)&&r(n,c,s),s.global)u?t[e]=n:a(e,n);else{try{s.unsafe?t[e]&&(u=!0):delete t[e]}catch(t){}u?t[e]=n:i.f(t,e,{value:n,enumerable:!1,configurable:!s.nonConfigurable,writable:!s.nonWritable})}return t}},6910:function(t,e,n){var o=n(6518),i=n(9504),r=n(9306),a=n(8981),s=n(6198),u=n(4606),c=n(655),l=n(9039),d=n(4488),f=n(4598),h=n(3709),p=n(3763),v=n(9519),y=n(3607),g=[],b=i(g.sort),m=i(g.push),E=l(function(){g.sort(void 0)}),x=l(function(){g.sort(null)}),k=f("sort"),w=!l(function(){if(v)return v<70;if(!(h&&h>3)){if(p)return!0;if(y)return y<603;var t,e,n,o,i="";for(t=65;t<76;t++){switch(e=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(o=0;o<47;o++)g.push({k:e+o,v:n})}for(g.sort(function(t,e){return e.v-t.v}),o=0;o<g.length;o++)e=g[o].k.charAt(0),i.charAt(i.length-1)!==e&&(i+=e);return"DGBEFHACIJK"!==i}});o({target:"Array",proto:!0,forced:E||!x||!k||!w},{sort:function(t){void 0!==t&&r(t);var e=a(this);if(w)return void 0===t?b(e):b(e,t);var n,o,i=[],l=s(e);for(o=0;o<l;o++)o in e&&m(i,e[o]);for(d(i,function(t){return function(e,n){return void 0===n?-1:void 0===e?1:void 0!==t?+t(e,n)||0:c(e)>c(n)?1:-1}}(t)),n=s(i),o=0;o<n;)e[o]=i[o++];for(;o<l;)u(e,o++);return e}})},6933:function(t,e,n){var o=n(9504),i=n(4376),r=n(4901),a=n(2195),s=n(655),u=o([].push);t.exports=function(t){if(r(t))return t;if(i(t)){for(var e=t.length,n=[],o=0;o<e;o++){var c=t[o];"string"==typeof c?u(n,c):"number"!=typeof c&&"Number"!==a(c)&&"String"!==a(c)||u(n,s(c))}var l=n.length,d=!0;return function(t,e){if(d)return d=!1,e;if(i(this))return e;for(var o=0;o<l;o++)if(n[o]===t)return e}}}},6938:function(t,e,n){var o=n(2360),i=n(2106),r=n(6279),a=n(6080),s=n(679),u=n(4117),c=n(2652),l=n(1088),d=n(2529),f=n(7633),h=n(3724),p=n(3451).fastKey,v=n(1181),y=v.set,g=v.getterFor;t.exports={getConstructor:function(t,e,n,l){var d=t(function(t,i){s(t,f),y(t,{type:e,index:o(null),first:null,last:null,size:0}),h||(t.size=0),u(i)||c(i,t[l],{that:t,AS_ENTRIES:n})}),f=d.prototype,v=g(e),b=function(t,e,n){var o,i,r=v(t),a=m(t,e);return a?a.value=n:(r.last=a={index:i=p(e,!0),key:e,value:n,previous:o=r.last,next:null,removed:!1},r.first||(r.first=a),o&&(o.next=a),h?r.size++:t.size++,"F"!==i&&(r.index[i]=a)),t},m=function(t,e){var n,o=v(t),i=p(e);if("F"!==i)return o.index[i];for(n=o.first;n;n=n.next)if(n.key===e)return n};return r(f,{clear:function(){for(var t=v(this),e=t.first;e;)e.removed=!0,e.previous&&(e.previous=e.previous.next=null),e=e.next;t.first=t.last=null,t.index=o(null),h?t.size=0:this.size=0},delete:function(t){var e=this,n=v(e),o=m(e,t);if(o){var i=o.next,r=o.previous;delete n.index[o.index],o.removed=!0,r&&(r.next=i),i&&(i.previous=r),n.first===o&&(n.first=i),n.last===o&&(n.last=r),h?n.size--:e.size--}return!!o},forEach:function(t){for(var e,n=v(this),o=a(t,arguments.length>1?arguments[1]:void 0);e=e?e.next:n.first;)for(o(e.value,e.key,this);e&&e.removed;)e=e.previous},has:function(t){return!!m(this,t)}}),r(f,n?{get:function(t){var e=m(this,t);return e&&e.value},set:function(t,e){return b(this,0===t?0:t,e)}}:{add:function(t){return b(this,t=0===t?0:t,t)}}),h&&i(f,"size",{configurable:!0,get:function(){return v(this).size}}),d},setStrong:function(t,e,n){var o=e+" Iterator",i=g(e),r=g(o);l(t,e,function(t,e){y(this,{type:o,target:t,state:i(t),kind:e,last:null})},function(){for(var t=r(this),e=t.kind,n=t.last;n&&n.removed;)n=n.previous;return t.target&&(t.last=n=n?n.next:t.state.first)?d("keys"===e?n.key:"values"===e?n.value:[n.key,n.value],!1):(t.target=null,d(void 0,!0))},n?"entries":"values",!n,!0),f(e)}}},6955:function(t,e,n){var o=n(2140),i=n(4901),r=n(2195),a=n(8227)("toStringTag"),s=Object,u="Arguments"===r(function(){return arguments}());t.exports=o?r:function(t){var e,n,o;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=s(t),a))?n:u?r(e):"Object"===(o=r(e))&&i(e.callee)?"Arguments":o}},6969:function(t,e,n){var o=n(2777),i=n(757);t.exports=function(t){var e=o(t,"string");return i(e)?e:e+""}},6980:function(t){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},7040:function(t,e,n){var o=n(4495);t.exports=o&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},7055:function(t,e,n){var o=n(9504),i=n(9039),r=n(2195),a=Object,s=o("".split);t.exports=i(function(){return!a("z").propertyIsEnumerable(0)})?function(t){return"String"===r(t)?s(t,""):a(t)}:a},7323:function(t,e,n){var o,i,r=n(9565),a=n(9504),s=n(655),u=n(7979),c=n(8429),l=n(5745),d=n(2360),f=n(1181).get,h=n(3635),p=n(8814),v=l("native-string-replace",String.prototype.replace),y=RegExp.prototype.exec,g=y,b=a("".charAt),m=a("".indexOf),E=a("".replace),x=a("".slice),k=(i=/b*/g,r(y,o=/a/,"a"),r(y,i,"a"),0!==o.lastIndex||0!==i.lastIndex),w=c.BROKEN_CARET,S=void 0!==/()??/.exec("")[1];(k||S||w||h||p)&&(g=function(t){var e,n,o,i,a,c,l,h=this,p=f(h),O=s(t),A=p.raw;if(A)return A.lastIndex=h.lastIndex,e=r(g,A,O),h.lastIndex=A.lastIndex,e;var I=p.groups,D=w&&h.sticky,C=r(u,h),P=h.source,N=0,L=O;if(D&&(C=E(C,"y",""),-1===m(C,"g")&&(C+="g"),L=x(O,h.lastIndex),h.lastIndex>0&&(!h.multiline||h.multiline&&"\n"!==b(O,h.lastIndex-1))&&(P="(?: "+P+")",L=" "+L,N++),n=new RegExp("^(?:"+P+")",C)),S&&(n=new RegExp("^"+P+"$(?!\\s)",C)),k&&(o=h.lastIndex),i=r(y,D?n:h,L),D?i?(i.input=x(i.input,N),i[0]=x(i[0],N),i.index=h.lastIndex,h.lastIndex+=i[0].length):h.lastIndex=0:k&&i&&(h.lastIndex=h.global?i.index+i[0].length:o),S&&i&&i.length>1&&r(v,i[0],n,function(){for(a=1;a<arguments.length-2;a++)void 0===arguments[a]&&(i[a]=void 0)}),i&&I)for(i.groups=c=d(null),a=0;a<I.length;a++)c[(l=I[a])[0]]=i[l[1]];return i}),t.exports=g},7347:function(t,e,n){var o=n(3724),i=n(9565),r=n(8773),a=n(6980),s=n(5397),u=n(6969),c=n(9297),l=n(5917),d=Object.getOwnPropertyDescriptor;e.f=o?d:function(t,e){if(t=s(t),e=u(e),l)try{return d(t,e)}catch(t){}if(c(t,e))return a(!i(r.f,t,e),t[e])}},7400:function(t){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},7427:function(t,e,n){var o=n(6518),i=n(3724),r=n(2551),a=n(9306),s=n(8981),u=n(4913);i&&o({target:"Object",proto:!0,forced:r},{__defineGetter__:function(t,e){u.f(s(this),t,{get:a(e),enumerable:!0,configurable:!0})}})},7433:function(t,e,n){var o=n(4376),i=n(3517),r=n(34),a=n(8227)("species"),s=Array;t.exports=function(t){var e;return o(t)&&(e=t.constructor,(i(e)&&(e===s||o(e.prototype))||r(e)&&null===(e=e[a]))&&(e=void 0)),void 0===e?s:e}},7452:function(t){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},7476:function(t,e,n){var o=n(2195),i=n(9504);t.exports=function(t){if("Function"===o(t))return i(t)}},7495:function(t,e,n){var o=n(6518),i=n(7323);o({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},7629:function(t,e,n){var o=n(6395),i=n(4576),r=n(9433),a="__core-js_shared__",s=t.exports=i[a]||r(a,{});(s.versions||(s.versions=[])).push({version:"3.45.0",mode:o?"pure":"global",copyright:"© 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.45.0/LICENSE",source:"https://github.com/zloirock/core-js"})},7633:function(t,e,n){var o=n(7751),i=n(2106),r=n(8227),a=n(3724),s=r("species");t.exports=function(t){var e=o(t);a&&e&&!e[s]&&i(e,s,{configurable:!0,get:function(){return this}})}},7657:function(t,e,n){var o,i,r,a=n(9039),s=n(4901),u=n(34),c=n(2360),l=n(2787),d=n(6840),f=n(8227),h=n(6395),p=f("iterator"),v=!1;[].keys&&("next"in(r=[].keys())?(i=l(l(r)))!==Object.prototype&&(o=i):v=!0),!u(o)||a(function(){var t={};return o[p].call(t)!==t})?o={}:h&&(o=c(o)),s(o[p])||d(o,p,function(){return this}),t.exports={IteratorPrototype:o,BUGGY_SAFARI_ITERATORS:v}},7680:function(t,e,n){var o=n(9504);t.exports=o([].slice)},7740:function(t,e,n){var o=n(9297),i=n(5031),r=n(7347),a=n(4913);t.exports=function(t,e,n){for(var s=i(e),u=a.f,c=r.f,l=0;l<s.length;l++){var d=s[l];o(t,d)||n&&o(n,d)||u(t,d,c(e,d))}}},7750:function(t,e,n){var o=n(4117),i=TypeError;t.exports=function(t){if(o(t))throw new i("Can't call method on "+t);return t}},7751:function(t,e,n){var o=n(4576),i=n(4901);t.exports=function(t,e){return arguments.length<2?(n=o[t],i(n)?n:void 0):o[t]&&o[t][e];var n}},7764:function(t,e,n){var o=n(8183).charAt,i=n(655),r=n(1181),a=n(1088),s=n(2529),u="String Iterator",c=r.set,l=r.getterFor(u);a(String,"String",function(t){c(this,{type:u,string:i(t),index:0})},function(){var t,e=l(this),n=e.string,i=e.index;return i>=n.length?s(void 0,!0):(t=o(n,i),e.index+=t.length,s(t,!1))})},7812:function(t,e,n){var o=n(6518),i=n(9297),r=n(757),a=n(6823),s=n(5745),u=n(1296),c=s("symbol-to-string-registry");o({target:"Symbol",stat:!0,forced:!u},{keyFor:function(t){if(!r(t))throw new TypeError(a(t)+" is not a symbol");if(i(c,t))return c[t]}})},7829:function(t,e,n){var o=n(8183).charAt;t.exports=function(t,e,n){return e+(n?o(t,e).length:1)}},7916:function(t,e,n){var o=n(6080),i=n(9565),r=n(8981),a=n(6319),s=n(4209),u=n(3517),c=n(6198),l=n(4659),d=n(81),f=n(851),h=Array;t.exports=function(t){var e=r(t),n=u(this),p=arguments.length,v=p>1?arguments[1]:void 0,y=void 0!==v;y&&(v=o(v,p>2?arguments[2]:void 0));var g,b,m,E,x,k,w=f(e),S=0;if(!w||this===h&&s(w))for(g=c(e),b=n?new this(g):h(g);g>S;S++)k=y?v(e[S],S):e[S],l(b,S,k);else for(b=n?new this:[],x=(E=d(e,w)).next;!(m=i(x,E)).done;S++)k=y?a(E,v,[m.value,S],!0):m.value,l(b,S,k);return b.length=S,b}},7979:function(t,e,n){var o=n(8551);t.exports=function(){var t=o(this),e="";return t.hasIndices&&(e+="d"),t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.unicodeSets&&(e+="v"),t.sticky&&(e+="y"),e}},8014:function(t,e,n){var o=n(1291),i=Math.min;t.exports=function(t){var e=o(t);return e>0?i(e,9007199254740991):0}},8183:function(t,e,n){var o=n(9504),i=n(1291),r=n(655),a=n(7750),s=o("".charAt),u=o("".charCodeAt),c=o("".slice),l=function(t){return function(e,n){var o,l,d=r(a(e)),f=i(n),h=d.length;return f<0||f>=h?t?"":void 0:(o=u(d,f))<55296||o>56319||f+1===h||(l=u(d,f+1))<56320||l>57343?t?s(d,f):o:t?c(d,f,f+2):l-56320+(o-55296<<10)+65536}};t.exports={codeAt:l(!1),charAt:l(!0)}},8227:function(t,e,n){var o=n(4576),i=n(5745),r=n(9297),a=n(3392),s=n(4495),u=n(7040),c=o.Symbol,l=i("wks"),d=u?c.for||c:c&&c.withoutSetter||a;t.exports=function(t){return r(l,t)||(l[t]=s&&r(c,t)?c[t]:d("Symbol."+t)),l[t]}},8242:function(t,e,n){var o=n(9565),i=n(7751),r=n(8227),a=n(6840);t.exports=function(){var t=i("Symbol"),e=t&&t.prototype,n=e&&e.valueOf,s=r("toPrimitive");e&&!e[s]&&a(e,s,function(t){return o(n,this)},{arity:1})}},8344:function(t,e,n){n(8543)},8429:function(t,e,n){var o=n(9039),i=n(4576).RegExp,r=o(function(){var t=i("a","y");return t.lastIndex=2,null!==t.exec("abcd")}),a=r||o(function(){return!i("a","y").sticky}),s=r||o(function(){var t=i("^r","gy");return t.lastIndex=2,null!==t.exec("str")});t.exports={BROKEN_CARET:s,MISSED_STICKY:a,UNSUPPORTED_Y:r}},8480:function(t,e,n){var o=n(1828),i=n(8727).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return o(t,i)}},8543:function(t,e,n){var o=n(6518),i=n(9565),r=n(7476),a=n(3994),s=n(2529),u=n(7750),c=n(8014),l=n(655),d=n(8551),f=n(34),h=n(2195),p=n(788),v=n(1034),y=n(5966),g=n(6840),b=n(9039),m=n(8227),E=n(2293),x=n(7829),k=n(6682),w=n(1181),S=n(6395),O=m("matchAll"),A="RegExp String",I=A+" Iterator",D=w.set,C=w.getterFor(I),P=RegExp.prototype,N=TypeError,L=r("".indexOf),M=r("".matchAll),T=!!M&&!b(function(){M("a",/./)}),R=a(function(t,e,n,o){D(this,{type:I,regexp:t,string:e,global:n,unicode:o,done:!1})},A,function(){var t=C(this);if(t.done)return s(void 0,!0);var e=t.regexp,n=t.string,o=k(e,n);return null===o?(t.done=!0,s(void 0,!0)):t.global?(""===l(o[0])&&(e.lastIndex=x(n,c(e.lastIndex),t.unicode)),s(o,!1)):(t.done=!0,s(o,!1))}),B=function(t){var e,n,o,i=d(this),r=l(t),a=E(i,RegExp),s=l(v(i));return e=new a(a===RegExp?i.source:i,s),n=!!~L(s,"g"),o=!!~L(s,"u"),e.lastIndex=c(i.lastIndex),new R(e,r,n,o)};o({target:"String",proto:!0,forced:T},{matchAll:function(t){var e,n,o,r,a=u(this);if(f(t)){if(p(t)&&(e=l(u(v(t))),!~L(e,"g")))throw new N("`.matchAll` does not allow non-global regexes");if(T)return M(a,t);if(void 0===(o=y(t,O))&&S&&"RegExp"===h(t)&&(o=B),o)return i(o,t,a)}else if(T)return M(a,t);return n=l(a),r=new RegExp(t,"g"),S?i(B,r,n):r[O](n)}}),S||O in P||g(P,O,B)},8551:function(t,e,n){var o=n(34),i=String,r=TypeError;t.exports=function(t){if(o(t))return t;throw new r(i(t)+" is not an object")}},8598:function(t,e,n){var o=n(6518),i=n(9504),r=n(7055),a=n(5397),s=n(4598),u=i([].join);o({target:"Array",proto:!0,forced:r!==Object||!s("join",",")},{join:function(t){return u(a(this),void 0===t?",":t)}})},8622:function(t,e,n){var o=n(4576),i=n(4901),r=o.WeakMap;t.exports=i(r)&&/native code/.test(String(r))},8686:function(t,e,n){var o=n(3724),i=n(9039);t.exports=o&&i(function(){return 42!==Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype})},8706:function(t,e,n){var o=n(6518),i=n(9039),r=n(4376),a=n(34),s=n(8981),u=n(6198),c=n(6837),l=n(4659),d=n(1469),f=n(597),h=n(8227),p=n(9519),v=h("isConcatSpreadable"),y=p>=51||!i(function(){var t=[];return t[v]=!1,t.concat()[0]!==t}),g=function(t){if(!a(t))return!1;var e=t[v];return void 0!==e?!!e:r(t)};o({target:"Array",proto:!0,arity:1,forced:!y||!f("concat")},{concat:function(t){var e,n,o,i,r,a=s(this),f=d(a,0),h=0;for(e=-1,o=arguments.length;e<o;e++)if(g(r=-1===e?a:arguments[e]))for(i=u(r),c(h+i),n=0;n<i;n++,h++)n in r&&l(f,h,r[n]);else c(h+1),l(f,h++,r);return f.length=h,f}})},8727:function(t){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},8745:function(t,e,n){var o=n(616),i=Function.prototype,r=i.apply,a=i.call;t.exports="object"==typeof Reflect&&Reflect.apply||(o?a.bind(r):function(){return a.apply(r,arguments)})},8773:function(t,e){var n={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,i=o&&!n.call({1:2},1);e.f=i?function(t){var e=o(this,t);return!!e&&e.enumerable}:n},8781:function(t,e,n){var o=n(350).PROPER,i=n(6840),r=n(8551),a=n(655),s=n(9039),u=n(1034),c="toString",l=RegExp.prototype,d=l[c],f=s(function(){return"/a/b"!==d.call({source:"a",flags:"b"})}),h=o&&d.name!==c;(f||h)&&i(l,c,function(){var t=r(this);return"/"+a(t.source)+"/"+a(u(t))},{unsafe:!0})},8814:function(t,e,n){var o=n(9039),i=n(4576).RegExp;t.exports=o(function(){var t=i("(?<a>b)","g");return"b"!==t.exec("b").groups.a||"bc"!=="b".replace(t,"$<a>c")})},8981:function(t,e,n){var o=n(7750),i=Object;t.exports=function(t){return i(o(t))}},9039:function(t){t.exports=function(t){try{return!!t()}catch(t){return!0}}},9085:function(t,e,n){var o=n(6518),i=n(4213);o({target:"Object",stat:!0,arity:2,forced:Object.assign!==i},{assign:i})},9167:function(t,e,n){var o=n(4576);t.exports=o},9213:function(t,e,n){var o=n(6080),i=n(9504),r=n(7055),a=n(8981),s=n(6198),u=n(1469),c=i([].push),l=function(t){var e=1===t,n=2===t,i=3===t,l=4===t,d=6===t,f=7===t,h=5===t||d;return function(p,v,y,g){for(var b,m,E=a(p),x=r(E),k=s(x),w=o(v,y),S=0,O=g||u,A=e?O(p,k):n||f?O(p,0):void 0;k>S;S++)if((h||S in x)&&(m=w(b=x[S],S,E),t))if(e)A[S]=m;else if(m)switch(t){case 3:return!0;case 5:return b;case 6:return S;case 2:c(A,b)}else switch(t){case 4:return!1;case 7:c(A,b)}return d?-1:i||l?l:A}};t.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6),filterReject:l(7)}},9228:function(t,e,n){n(7495);var o=n(9565),i=n(6840),r=n(7323),a=n(9039),s=n(8227),u=n(6699),c=s("species"),l=RegExp.prototype;t.exports=function(t,e,n,d){var f=s(t),h=!a(function(){var e={};return e[f]=function(){return 7},7!==""[t](e)}),p=h&&!a(function(){var e=!1,n=/a/;return"split"===t&&((n={}).constructor={},n.constructor[c]=function(){return n},n.flags="",n[f]=/./[f]),n.exec=function(){return e=!0,null},n[f](""),!e});if(!h||!p||n){var v=/./[f],y=e(f,""[t],function(t,e,n,i,a){var s=e.exec;return s===r||s===l.exec?h&&!a?{done:!0,value:o(v,e,n,i)}:{done:!0,value:o(t,n,e,i)}:{done:!1}});i(String.prototype,t,y[0]),i(l,f,y[1])}d&&u(l[f],"sham",!0)}},9296:function(t,e,n){var o=n(4055)("span").classList,i=o&&o.constructor&&o.constructor.prototype;t.exports=i===Object.prototype?void 0:i},9297:function(t,e,n){var o=n(9504),i=n(8981),r=o({}.hasOwnProperty);t.exports=Object.hasOwn||function(t,e){return r(i(t),e)}},9306:function(t,e,n){var o=n(4901),i=n(6823),r=TypeError;t.exports=function(t){if(o(t))return t;throw new r(i(t)+" is not a function")}},9432:function(t,e,n){var o=n(6518),i=n(8981),r=n(1072);o({target:"Object",stat:!0,forced:n(9039)(function(){r(1)})},{keys:function(t){return r(i(t))}})},9433:function(t,e,n){var o=n(4576),i=Object.defineProperty;t.exports=function(t,e){try{i(o,t,{value:e,configurable:!0,writable:!0})}catch(n){o[t]=e}return e}},9463:function(t,e,n){var o=n(6518),i=n(3724),r=n(4576),a=n(9504),s=n(9297),u=n(4901),c=n(1625),l=n(655),d=n(2106),f=n(7740),h=r.Symbol,p=h&&h.prototype;if(i&&u(h)&&(!("description"in p)||void 0!==h().description)){var v={},y=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:l(arguments[0]),e=c(p,this)?new h(t):void 0===t?h():h(t);return""===t&&(v[e]=!0),e};f(y,h),y.prototype=p,p.constructor=y;var g="Symbol(description detection)"===String(h("description detection")),b=a(p.valueOf),m=a(p.toString),E=/^Symbol\((.*)\)[^)]+$/,x=a("".replace),k=a("".slice);d(p,"description",{configurable:!0,get:function(){var t=b(this);if(s(v,t))return"";var e=m(t),n=g?k(e,7,-1):x(e,E,"$1");return""===n?void 0:n}}),o({global:!0,constructor:!0,forced:!0},{Symbol:y})}},9504:function(t,e,n){var o=n(616),i=Function.prototype,r=i.call,a=o&&i.bind.bind(r,r);t.exports=o?a:function(t){return function(){return r.apply(t,arguments)}}},9519:function(t,e,n){var o,i,r=n(4576),a=n(2839),s=r.process,u=r.Deno,c=s&&s.versions||u&&u.version,l=c&&c.v8;l&&(i=(o=l.split("."))[0]>0&&o[0]<4?1:+(o[0]+o[1])),!i&&a&&(!(o=a.match(/Edge\/(\d+)/))||o[1]>=74)&&(o=a.match(/Chrome\/(\d+)/))&&(i=+o[1]),t.exports=i},9539:function(t,e,n){var o=n(9565),i=n(8551),r=n(5966);t.exports=function(t,e,n){var a,s;i(t);try{if(!(a=r(t,"return"))){if("throw"===e)throw n;return n}a=o(a,t)}catch(t){s=!0,a=t}if("throw"===e)throw n;if(s)throw a;return i(a),n}},9565:function(t,e,n){var o=n(616),i=Function.prototype.call;t.exports=o?i.bind(i):function(){return i.apply(i,arguments)}},9572:function(t,e,n){var o=n(9297),i=n(6840),r=n(3640),a=n(8227)("toPrimitive"),s=Date.prototype;o(s,a)||i(s,a,r)},9617:function(t,e,n){var o=n(5397),i=n(5610),r=n(6198),a=function(t){return function(e,n,a){var s=o(e),u=r(s);if(0===u)return!t&&-1;var c,l=i(a,u);if(t&&n!=n){for(;u>l;)if((c=s[l++])!=c)return!0}else for(;u>l;l++)if((t||l in s)&&s[l]===n)return t||l||0;return!t&&-1}};t.exports={includes:a(!0),indexOf:a(!1)}},9773:function(t,e,n){var o=n(6518),i=n(4495),r=n(9039),a=n(3717),s=n(8981);o({target:"Object",stat:!0,forced:!i||r(function(){a.f(1)})},{getOwnPropertySymbols:function(t){var e=a.f;return e?e(s(t)):[]}})}},e={};function n(o){var i=e[o];if(void 0!==i)return i.exports;var r=e[o]={exports:{}};return t[o].call(r.exports,r,r.exports,n),r.exports}n.d=function(t,e){for(var o in e)n.o(e,o)&&!n.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var o={};n.r(o),n.d(o,{SimpleKeyboard:function(){return R},default:function(){return B}});n(5276),n(8598),n(4782),n(4554),n(2010),n(7427),n(6099),n(7495),n(8781),n(5440),n(744),n(2762);"undefined"==typeof Element||"remove"in Element.prototype||(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)}),"undefined"!=typeof self&&"document"in self&&((!("classList"in document.createElement("_"))||document.createElementNS&&!("classList"in document.createElementNS("http://www.w3.org/2000/svg","g")))&&function(t){if("Element"in t){var e="classList",n="prototype",o=t.Element[n],i=Object,r=String[n].trim||function(){return this.replace(/^\s+|\s+$/g,"")},a=Array[n].indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1},s=function(t,e){this.name=t,this.code=DOMException[t],this.message=e},u=function(t,e){if(""===e)throw new s("SYNTAX_ERR","The token must not be empty.");if(/\s/.test(e))throw new s("INVALID_CHARACTER_ERR","The token must not contain space characters.");return a.call(t,e)},c=function(t){for(var e=r.call(t.getAttribute("class")||""),n=e?e.split(/\s+/):[],o=0,i=n.length;o<i;o++)this.push(n[o]);this._updateClassName=function(){t.setAttribute("class",this.toString())}},l=c[n]=[],d=function(){return new c(this)};if(s[n]=Error[n],l.item=function(t){return this[t]||null},l.contains=function(t){return~u(this,t+"")},l.add=function(){var t,e=arguments,n=0,o=e.length,i=!1;do{~u(this,t=e[n]+"")||(this.push(t),i=!0)}while(++n<o);i&&this._updateClassName()},l.remove=function(){var t,e,n=arguments,o=0,i=n.length,r=!1;do{for(e=u(this,t=n[o]+"");~e;)this.splice(e,1),r=!0,e=u(this,t)}while(++o<i);r&&this._updateClassName()},l.toggle=function(t,e){var n=this.contains(t),o=n?!0!==e&&"remove":!1!==e&&"add";return o&&this[o](t),!0===e||!1===e?e:!n},l.replace=function(t,e){var n=u(t+"");~n&&(this.splice(n,1,e),this._updateClassName())},l.toString=function(){return this.join(" ")},i.defineProperty){var f={get:d,enumerable:!0,configurable:!0};try{i.defineProperty(o,e,f)}catch(t){void 0!==t.number&&-2146823252!==t.number||(f.enumerable=!1,i.defineProperty(o,e,f))}}else i[n].__defineGetter__&&o.__defineGetter__(e,d)}}(self),function(){var t=document.createElement("_");if(t.classList.add("c1","c2"),!t.classList.contains("c2")){var e=function(t){var e=DOMTokenList.prototype[t];DOMTokenList.prototype[t]=function(t){var n,o=arguments.length;for(n=0;n<o;n++)t=arguments[n],e.call(this,t)}};e("add"),e("remove")}if(t.classList.toggle("c3",!1),t.classList.contains("c3")){var n=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(t,e){return 1 in arguments&&!this.contains(t)==!e?e:n.call(this,t)}}"replace"in document.createElement("_").classList||(DOMTokenList.prototype.replace=function(t,e){var n=this.toString().split(" "),o=n.indexOf(t+"");~o&&(n=n.slice(o),this.remove.apply(this,n),this.add(e),this.add.apply(this,n.slice(1)))}),t=null}());n(2675),n(9463),n(2259),n(5700),n(8706),n(2008),n(3418),n(4423),n(3792),n(2062),n(6910),n(739),n(9572),n(2892),n(9085),n(3851),n(1278),n(9432),n(4864),n(1415),n(1699),n(7764),n(2781),n(8344),n(3500),n(2953),n(2712),n(2637),n(1480),n(825),n(1761);function i(t){return function(t){if(Array.isArray(t))return a(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||r(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(t,e){if(t){if("string"==typeof t)return a(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(t,e):void 0}}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=Array(e);n<e;n++)o[n]=t[n];return o}function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function u(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,l(o.key),o)}}function c(t,e,n){return(e=l(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l(t){var e=function(t,e){if("object"!=s(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!=s(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==s(e)?e:e+""}var d=function(){return t=function t(e){var n=e.getOptions,o=e.getCaretPosition,i=e.getCaretPositionEnd,r=e.dispatch;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),c(this,"getOptions",void 0),c(this,"getCaretPosition",void 0),c(this,"getCaretPositionEnd",void 0),c(this,"dispatch",void 0),c(this,"maxLengthReached",void 0),c(this,"isStandardButton",function(t){return t&&!("{"===t[0]&&"}"===t[t.length-1])}),this.getOptions=n,this.getCaretPosition=o,this.getCaretPositionEnd=i,this.dispatch=r,t.bindMethods(t,this)},e=[{key:"getButtonType",value:function(t){return t.includes("{")&&t.includes("}")&&"{//}"!==t?"functionBtn":"standardBtn"}},{key:"getButtonClass",value:function(t){var e=this.getButtonType(t),n=t.replace("{","").replace("}",""),o="";return"standardBtn"!==e&&(o=" hg-button-".concat(n)),"hg-".concat(e).concat(o)}},{key:"getDefaultDisplay",value:function(){return{"{bksp}":"backspace","{backspace}":"backspace","{enter}":"< enter","{shift}":"shift","{shiftleft}":"shift","{shiftright}":"shift","{alt}":"alt","{s}":"shift","{tab}":"tab","{lock}":"caps","{capslock}":"caps","{accept}":"Submit","{space}":" ","{//}":" ","{esc}":"esc","{escape}":"esc","{f1}":"f1","{f2}":"f2","{f3}":"f3","{f4}":"f4","{f5}":"f5","{f6}":"f6","{f7}":"f7","{f8}":"f8","{f9}":"f9","{f10}":"f10","{f11}":"f11","{f12}":"f12","{numpaddivide}":"/","{numlock}":"lock","{arrowup}":"↑","{arrowleft}":"←","{arrowdown}":"↓","{arrowright}":"→","{prtscr}":"print","{scrolllock}":"scroll","{pause}":"pause","{insert}":"ins","{home}":"home","{pageup}":"up","{delete}":"del","{forwarddelete}":"del","{end}":"end","{pagedown}":"down","{numpadmultiply}":"*","{numpadsubtract}":"-","{numpadadd}":"+","{numpadenter}":"enter","{period}":".","{numpaddecimal}":".","{numpad0}":"0","{numpad1}":"1","{numpad2}":"2","{numpad3}":"3","{numpad4}":"4","{numpad5}":"5","{numpad6}":"6","{numpad7}":"7","{numpad8}":"8","{numpad9}":"9"}}},{key:"getButtonDisplayName",value:function(t,e){return(e=arguments.length>2&&void 0!==arguments[2]&&arguments[2]?Object.assign({},this.getDefaultDisplay(),e):e||this.getDefaultDisplay())[t]||t}},{key:"getUpdatedInput",value:function(t,e,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],r=this.getOptions(),a=[n,o,i],s=e;return("{bksp}"===t||"{backspace}"===t)&&s.length>0?s=this.removeAt.apply(this,[s].concat(a)):("{delete}"===t||"{forwarddelete}"===t)&&s.length>0?s=this.removeForwardsAt.apply(this,[s].concat(a)):"{space}"===t?s=this.addStringAt.apply(this,[s," "].concat(a)):"{tab}"!==t||"boolean"==typeof r.tabCharOnTab&&!1===r.tabCharOnTab?"{enter}"!==t&&"{numpadenter}"!==t||!r.newLineOnEnter?t.includes("numpad")&&Number.isInteger(Number(t[t.length-2]))?s=this.addStringAt.apply(this,[s,t[t.length-2]].concat(a)):"{numpaddivide}"===t?s=this.addStringAt.apply(this,[s,"/"].concat(a)):"{numpadmultiply}"===t?s=this.addStringAt.apply(this,[s,"*"].concat(a)):"{numpadsubtract}"===t?s=this.addStringAt.apply(this,[s,"-"].concat(a)):"{numpadadd}"===t?s=this.addStringAt.apply(this,[s,"+"].concat(a)):"{numpaddecimal}"===t?s=this.addStringAt.apply(this,[s,"."].concat(a)):"{"===t||"}"===t?s=this.addStringAt.apply(this,[s,t].concat(a)):t.includes("{")||t.includes("}")||(s=this.addStringAt.apply(this,[s,t].concat(a))):s=this.addStringAt.apply(this,[s,"\n"].concat(a)):s=this.addStringAt.apply(this,[s,"\t"].concat(a)),r.debug&&console.log("Input will be: "+s),s}},{key:"updateCaretPos",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.updateCaretPosAction(t,e);this.dispatch(function(t){t.setCaretPosition(n)})}},{key:"updateCaretPosAction",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.getOptions(),o=this.getCaretPosition();return null!=o&&(e?o>0&&(o-=t):o+=t),n.debug&&console.log("Caret at:",o),o}},{key:"addStringAt",value:function(t,e){var n,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.length,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.length,r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return o||0===o?(n=[t.slice(0,o),e,t.slice(i)].join(""),this.isMaxLengthReached()||r&&this.updateCaretPos(e.length)):n=t+e,n}},{key:"removeAt",value:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.length,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.length,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(0===n&&0===o)return t;if(n===o){var r=/([\uD800-\uDBFF][\uDC00-\uDFFF])/g;n&&n>=0?t.substring(n-2,n).match(r)?(e=t.substr(0,n-2)+t.substr(n),i&&this.updateCaretPos(2,!0)):(e=t.substr(0,n-1)+t.substr(n),i&&this.updateCaretPos(1,!0)):t.slice(-2).match(r)?(e=t.slice(0,-2),i&&this.updateCaretPos(2,!0)):(e=t.slice(0,-1),i&&this.updateCaretPos(1,!0))}else e=t.slice(0,n)+t.slice(o),i&&this.dispatch(function(t){t.setCaretPosition(n)});return e}},{key:"removeForwardsAt",value:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.length,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.length,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return null!=t&&t.length&&null!==n?(n===o?e=t.substring(n,n+2).match(/([\uD800-\uDBFF][\uDC00-\uDFFF])/g)?t.substr(0,n)+t.substr(n+2):t.substr(0,n)+t.substr(n+1):(e=t.slice(0,n)+t.slice(o),i&&this.dispatch(function(t){t.setCaretPosition(n)})),e):t}},{key:"handleMaxLength",value:function(t,e){var n=this.getOptions(),o=n.maxLength,i=t[n.inputName||"default"],r=e.length-1>=o;if(e.length<=i.length)return!1;if(Number.isInteger(o))return n.debug&&console.log("maxLength (num) reached:",r),r?(this.maxLengthReached=!0,!0):(this.maxLengthReached=!1,!1);if("object"===s(o)){var a=e.length-1>=o[n.inputName||"default"];return n.debug&&console.log("maxLength (obj) reached:",a),a?(this.maxLengthReached=!0,!0):(this.maxLengthReached=!1,!1)}}},{key:"isMaxLengthReached",value:function(){return Boolean(this.maxLengthReached)}},{key:"isTouchDevice",value:function(){return"ontouchstart"in window||navigator.maxTouchPoints}},{key:"pointerEventsSupported",value:function(){return!!window.PointerEvent}},{key:"camelCase",value:function(t){return t?t.toLowerCase().trim().split(/[.\-_\s]/g).reduce(function(t,e){return e.length?t+e[0].toUpperCase()+e.slice(1):t}):""}},{key:"chunkArray",value:function(t,e){return i(Array(Math.ceil(t.length/e))).map(function(n,o){return t.slice(e*o,e+e*o)})}},{key:"escapeRegex",value:function(t){return t.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")}},{key:"getRtlOffset",value:function(t,e){var n=t,o=e.indexOf("‫");return o<t&&-1!=o&&n--,e.indexOf("‬")<t&&-1!=o&&n--,n<0?0:n}},{key:"isConstructor",value:function(t){try{Reflect.construct(String,[],t)}catch(t){return!1}return!0}}],n=[{key:"bindMethods",value:function(t,e){var n,o=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=r(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var o=0,i=function(){};return{s:i,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){u=!0,a=t},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw a}}}}(Object.getOwnPropertyNames(t.prototype));try{for(o.s();!(n=o.n()).done;){var i=n.value;"constructor"===i||"bindMethods"===i||"function"==typeof e[i]&&(e[i]=e[i].bind(e))}}catch(t){o.e(t)}finally{o.f()}}}],e&&u(t.prototype,e),n&&u(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}();c(d,"noop",function(){});var f=d;function h(t){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},h(t)}function p(t){return function(t){if(Array.isArray(t))return y(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||v(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(t,e){if(t){if("string"==typeof t)return y(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(t,e):void 0}}function y(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=Array(e);n<e;n++)o[n]=t[n];return o}function g(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,m(o.key),o)}}function b(t,e,n){return(e=m(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function m(t){var e=function(t,e){if("object"!=h(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!=h(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==h(e)?e:e+""}var E=function(){return t=function t(e){var n=this,o=e.dispatch,i=e.getOptions,r=e.getNavEngaged;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),b(this,"getOptions",void 0),b(this,"dispatch",void 0),b(this,"layoutJSON",null),b(this,"lastLayout",""),b(this,"shiftActive",!1),b(this,"capslockActive",!1),b(this,"activeKeys",new Set),b(this,"getNavEngaged",void 0),b(this,"STANDARD_CODES",new Set(["Backquote","Digit0","Digit1","Digit2","Digit3","Digit4","Digit5","Digit6","Digit7","Digit8","Digit9","KeyA","KeyB","KeyC","KeyD","KeyE","KeyF","KeyG","KeyH","KeyI","KeyJ","KeyK","KeyL","KeyM","KeyN","KeyO","KeyP","KeyQ","KeyR","KeyS","KeyT","KeyU","KeyV","KeyW","KeyX","KeyY","KeyZ","Enter","Escape","Backspace","Tab","Space","ArrowLeft","ArrowRight","ArrowUp","ArrowDown","Delete","Insert","Home","End","PageUp","PageDown","ShiftLeft","ShiftRight","ControlLeft","ControlRight","AltLeft","AltRight","MetaLeft","MetaRight","CapsLock","Minus","Equal","BracketLeft","BracketRight","Backslash","Semicolon","Quote","Comma","Period","Slash","F1","F2","F3","F4","F5","F6","F7","F8","F9","F10","F11","F12","NumLock","Numpad0","Numpad1","Numpad2","Numpad3","Numpad4","Numpad5","Numpad6","Numpad7","Numpad8","Numpad9","NumpadAdd","NumpadSubtract","NumpadMultiply","NumpadDivide","NumpadDecimal","NumpadEnter","ScrollLock","Pause","PrintScreen","ContextMenu"])),b(this,"isModifierKey",function(t){return t.altKey||t.ctrlKey||t.shiftKey||["Tab","CapsLock","Esc","ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(t.code||t.key||n.keyCodeToKey(null==t?void 0:t.keyCode))}),this.dispatch=o,this.getOptions=i,this.getNavEngaged=r,this.getOptions()&&this.getOptions().layout){var a;this.lastLayout=(null===(a=this.getOptions())||void 0===a||null===(a=a.layout)||void 0===a||null===(a=a.default)||void 0===a?void 0:a[1])||"";var s=this.getOptions().layout;s&&(this.layoutJSON=this.mapLayoutToEventCodes(this.extractAndPadLayout(s)))}else this.lastLayout="{tab} q w e r t y u i o p [ ] \\",this.layoutJSON=this.mapLayoutToEventCodes(this.extractAndPadLayout({default:["` 1 2 3 4 5 6 7 8 9 0 - = {bksp}","{tab} q w e r t y u i o p [ ] \\","{lock} a s d f g h j k l ; ' {enter}","{shift} z x c v b n m , . / {shift}",".com @ {space}"],shift:["~ ! @ # $ % ^ & * ( ) _ + {bksp}","{tab} Q W E R T Y U I O P { } |",'{lock} A S D F G H J K L : " {enter}',"{shift} Z X C V B N M < > ? {shift}",".com @ {space}"]}));f.bindMethods(t,this)},e=[{key:"handleHighlightKeyDown",value:function(t){var e=this,n=this.getOptions();if("ShiftLeft"!==t.code&&"ShiftRight"!==t.code||this.shiftActive||(this.shiftActive=!this.shiftActive),"CapsLock"===t.code&&(this.capslockActive=!this.capslockActive),this.getNavEngaged()&&"keyboard"===n.activeSurface)return t.preventDefault(),void t.stopImmediatePropagation();var o=this.getSimpleKeyboardLayoutKey(t);this.dispatch(function(i){var r,a,s=i.getButtonElement(o),u=i.getButtonElement("{".concat(o,"}"));if(s)r=s,a=o;else{if(!u)return;r=u,a="{".concat(o,"}")}var c,l,d,f,h=function(t){t.style.background=n.physicalKeyboardHighlightBgColor||"#dadce4",t.style.color=n.physicalKeyboardHighlightTextColor||"black",e.activeKeys.add(t)};if(r)if(Array.isArray(r)){if(r.forEach(function(t){return h(t)}),n.physicalKeyboardHighlightPress)if(n.physicalKeyboardHighlightPressUsePointerEvents)null===(c=r[0])||void 0===c||null===(l=c.onpointerdown)||void 0===l||l.call(c,t);else if(n.physicalKeyboardHighlightPressUseClick){var p;null===(p=r[0])||void 0===p||p.click()}else i.handleButtonClicked(a,t)}else h(r),n.physicalKeyboardHighlightPress&&(n.physicalKeyboardHighlightPressUsePointerEvents?null===(d=r)||void 0===d||null===(f=d.onpointerdown)||void 0===f||f.call(d,t):n.physicalKeyboardHighlightPressUseClick?r.click():i.handleButtonClicked(a,t))})}},{key:"handleHighlightKeyUp",value:function(t){var e=this,n=this.getOptions();"ShiftLeft"!==t.code&&"ShiftRight"!==t.code||(this.shiftActive=!1);var o=this.getSimpleKeyboardLayoutKey(t);this.dispatch(function(i){var r,a,s,u=i.getButtonElement(o)||i.getButtonElement("{".concat(o,"}")),c=function(t){t.removeAttribute&&t.removeAttribute("style"),e.activeKeys.delete(t)};u&&(Array.isArray(u)?(u.forEach(function(t){return c(t)}),n.physicalKeyboardHighlightPressUsePointerEvents&&(null===(r=u[0])||void 0===r||null===(a=r.onpointerup)||void 0===a||a.call(r,t))):(c(u),n.physicalKeyboardHighlightPressUsePointerEvents&&(null==u||null===(s=u.onpointerup)||void 0===s||s.call(u,t))))}),requestAnimationFrame(function(){0!==e.activeKeys.size&&(e.activeKeys.forEach(function(t){t.removeAttribute&&t.removeAttribute("style")}),e.activeKeys.clear())})}},{key:"normalizeToStandardCode",value:function(t){if(!t||"string"!=typeof t)return null;if(this.STANDARD_CODES.has(t))return t;var e,n=t.trim(),o=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=v(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var o=0,i=function(){};return{s:i,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,r=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw r}}}}(this.STANDARD_CODES);try{for(o.s();!(e=o.n()).done;){var i=e.value;if(i.toLowerCase()===n.toLowerCase())return i}}catch(t){o.e(t)}finally{o.f()}return null}},{key:"normalizeOutput",value:function(t){var e=t.toLowerCase();return{shiftleft:"shift",shiftright:"shift",controlleft:"ctrl",controlright:"ctrl",altleft:"alt",altright:"alt",metaleft:"meta",metaright:"meta",backspace:"bksp",capslock:"lock",enter:"enter",tab:"tab"}[e]||(e.length>1?e:t)}},{key:"getSimpleKeyboardLayoutKey",value:function(t){var e,n,o="",i=this.getOptions(),r=null!==(e=null==i||null===(n=i.layout)||void 0===n||null===(n=n.default)||void 0===n?void 0:n[1])&&void 0!==e?e:"{tab} q w e r t y u i o p [ ] \\";if(this.lastLayout!==r){var a;this.lastLayout=r||"";var s=null!==(a=null==i?void 0:i.layout)&&void 0!==a?a:{default:["` 1 2 3 4 5 6 7 8 9 0 - = {bksp}","{tab} q w e r t y u i o p [ ] \\","{lock} a s d f g h j k l ; ' {enter}","{shift} z x c v b n m , . / {shift}",".com @ {space}"],shift:["~ ! @ # $ % ^ & * ( ) _ + {bksp}","{tab} Q W E R T Y U I O P { } |",'{lock} A S D F G H J K L : " {enter}',"{shift} Z X C V B N M < > ? {shift}",".com @ {space}"]};this.layoutJSON=this.mapLayoutToEventCodes(this.extractAndPadLayout(s))}var u=this.normalizeToStandardCode(t.code);if(this.layoutJSON&&u&&this.layoutJSON[u]){var c=this.layoutJSON[u];return o=this.shiftActive||this.capslockActive?c.shift.toString():c.normal.toString(),this.normalizeOutput(o)}var l=new Set(["backspace","enter","tab","escape"]),d=(t.key||"").toLowerCase();return l.has(d)?(o=d,this.normalizeOutput(o)):""}},{key:"keyCodeToKey",value:function(t){return{8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",91:"Meta",96:"Numpad0",97:"Numpad1",98:"Numpad2",99:"Numpad3",100:"Numpad4",101:"Numpad5",102:"Numpad6",103:"Numpad7",104:"Numpad8",105:"Numpad9",106:"NumpadMultiply",107:"NumpadAdd",109:"NumpadSubtract",110:"NumpadDecimal",111:"NumpadDivide",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"}[t]||""}},{key:"extractAndPadLayout",value:function(t){for(var e=[14,14,13,12,3],n={default:[],shift:[]},o=0,i=["default","shift"];o<i.length;o++){var r=i[o];if(t[r])for(var a=t[r].map(function(t){return t.split(" ")}),s=0;s<e.length;s++)for(n[r][s]=a[s]?p(a[s]):[];n[r][s].length<e[s];)n[r][s].push(-1)}return n}},{key:"mapLayoutToEventCodes",value:function(t){for(var e={},n=[["Backquote","Digit1","Digit2","Digit3","Digit4","Digit5","Digit6","Digit7","Digit8","Digit9","Digit0","Minus","Equal","Backspace"],["Tab","KeyQ","KeyW","KeyE","KeyR","KeyT","KeyY","KeyU","KeyI","KeyO","KeyP","BracketLeft","BracketRight","Backslash"],["CapsLock","KeyA","KeyS","KeyD","KeyF","KeyG","KeyH","KeyJ","KeyK","KeyL","Semicolon","Quote","Enter"],["ShiftLeft","KeyZ","KeyX","KeyC","KeyV","KeyB","KeyN","KeyM","Comma","Period","Slash","ShiftRight"],["ControlLeft","AltLeft","Space"]],o=0;o<n.length;o++)for(var i=0;i<n[o].length;i++){var r,a,s=n[o][i],u=null!==(r=t.default[o][i])&&void 0!==r?r:"",c=null!==(a=t.shift[o][i])&&void 0!==a?a:"";e[s]={normal:-1!==u?u:"",shift:-1!==c?c:""}}return e}}],e&&g(t.prototype,e),n&&g(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}();function x(t){return x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},x(t)}function k(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,S(o.key),o)}}function w(t,e,n){return(e=S(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function S(t){var e=function(t,e){if("object"!=x(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!=x(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==x(e)?e:e+""}var O=function(){function t(e){var n=e.utilities,o=e.options;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),w(this,"utilities",void 0),w(this,"options",void 0),w(this,"candidateBoxElement",null),w(this,"pageIndex",0),w(this,"pageSize",void 0),w(this,"activeIndex",0),w(this,"candidateOptions",[]),w(this,"globalLiveRegionElement",document.querySelector(".hg-live-region")),w(this,"handleActiveIndexBound",void 0),w(this,"firstLastNavBound",void 0),w(this,"listenersAttached",!1),this.utilities=n,this.options=o,f.bindMethods(t,this),this.pageSize=this.utilities.getOptions().layoutCandidatesPageSize||5,this.handleActiveIndexBound=this.handleActiveIndex.bind(this),this.firstLastNavBound=this.firstLastNav.bind(this)}return e=t,n=[{key:"attachDocListeners",value:function(){this.listenersAttached||(document.addEventListener("keydown",this.handleActiveIndexBound,{capture:!1}),document.addEventListener("keydown",this.firstLastNavBound,{capture:!1}),this.listenersAttached=!0)}},{key:"detachDocListeners",value:function(){this.listenersAttached&&(document.removeEventListener("keydown",this.handleActiveIndexBound,{capture:!1}),document.removeEventListener("keydown",this.firstLastNavBound,{capture:!1}),this.listenersAttached=!1)}},{key:"destroy",value:function(){var e=this;this.detachDocListeners(),this.candidateBoxElement&&setTimeout(function(){e.candidateBoxElement&&(e.candidateBoxElement.remove(),e.candidateBoxElement=null),t.isOpen=!1},30),this.activeIndex=0,this.candidateOptions=[];var n=document.querySelector(".hg-candidate-box-list");n&&n.replaceWith(n.cloneNode(!0)),this.pageIndex=0}},{key:"show",value:function(e){var n=this,o=e.candidateValue,i=e.targetElement,r=e.onSelect;if(o&&o.length){var a=this.utilities.chunkArray(o.split(" "),this.pageSize);this.renderPage({candidateListPages:a,targetElement:i,pageIndex:this.pageIndex,nbPages:a.length,onItemSelected:function(t,e){r(t,e),n.destroy()}}),t.isOpen=!0}}},{key:"firstLastNav",value:function(e){var n;if("Tab"===e.key&&t.isOpen){var o=null===(n=this.candidateBoxElement)||void 0===n?void 0:n.querySelectorAll(".hg-candidate-box-list-item");if(null!=o&&o.length){var i=o[0],r=o[o.length-1];e.shiftKey&&document.querySelector(".hg-candidate-box-list-item.active")===i?(e.preventDefault(),r.setAttribute("aria-selected","true")):e.shiftKey||document.querySelector(".hg-candidate-box-list-item.active")!==r||(e.preventDefault(),i.setAttribute("aria-selected","true"))}}}},{key:"renderPage",value:function(t){var e,n=this,o=t.candidateListPages,i=t.targetElement,r=t.pageIndex,a=t.nbPages,s=t.onItemSelected;this.attachDocListeners(),null===(e=this.candidateBoxElement)||void 0===e||e.remove(),this.candidateBoxElement=document.createElement("div"),this.candidateBoxElement.className="hg-candidate-box",this.candidateBoxElement.setAttribute("role","dialog"),this.candidateBoxElement.setAttribute("aria-label","Character Suggestions"),this.candidateBoxElement.setAttribute("aria-describedby","candidate-box-instructions");var u=document.createElement("div");u.id="candidate-box-instructions",u.classList.add("hg-candidate-box-instructions","sr-only"),u.innerHTML="Use up and down arrow keys to navigate, Enter to select.",this.candidateBoxElement.appendChild(u);var c=document.createElement("ul");c.className="hg-candidate-box-list",c.setAttribute("role","listbox"),c.setAttribute("tabindex","-1"),o[r].forEach(function(t,e){var o,i=document.createElement("li");i.setAttribute("role","option"),i.setAttribute("aria-selected",0===e?"true":"false"),i.id="key-candidate-".concat(e),i.className="hg-candidate-box-list-item",i.innerHTML=(null===(o=n.options.display)||void 0===o?void 0:o[t])||t;var r=function(){var t=new(n.options.useTouchEvents?TouchEvent:MouseEvent)("click");return Object.defineProperty(t,"target",{value:i}),t};i.onclick=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r();if(n.globalLiveRegionElement){var o,a=null===(o=i.textContent)||void 0===o?void 0:o.trim();n.globalLiveRegionElement.textContent="Inserted: ".concat(a)}s(t,e)},n.options.useTouchEvents&&(i.ontouchstart=function(e){if(n.globalLiveRegionElement){var o,a=null===(o=i.textContent)||void 0===o?void 0:o.trim();n.globalLiveRegionElement.textContent="Inserted: ".concat(a)}s(t,e||r())}),c.appendChild(i)});var l=r>0,d=document.createElement("div");d.classList.add("hg-candidate-box-prev"),l&&d.classList.add("hg-candidate-box-btn-active"),d.onclick=function(){l&&n.renderPage({candidateListPages:o,targetElement:i,pageIndex:r-1,nbPages:a,onItemSelected:s})};var f=r<a-1,h=document.createElement("div");h.classList.add("hg-candidate-box-next"),f&&h.classList.add("hg-candidate-box-btn-active"),h.onclick=function(){f&&n.renderPage({candidateListPages:o,targetElement:i,pageIndex:r+1,nbPages:a,onItemSelected:s})},this.candidateBoxElement.appendChild(d),this.candidateBoxElement.appendChild(c),this.candidateBoxElement.appendChild(h),this.candidateBoxElement.addEventListener("keydown",function(t){"Escape"===t.key&&(t.preventDefault(),n.destroy())}),i.prepend(this.candidateBoxElement),this.setupKeyboardNav(c)}},{key:"handleActiveIndex",value:function(e){t.isOpen&&("ArrowDown"===e.key?(e.preventDefault(),this.updateActiveIndex((this.activeIndex+1)%this.candidateOptions.length)):"ArrowUp"===e.key?(e.preventDefault(),this.updateActiveIndex((this.activeIndex-1+this.candidateOptions.length)%this.candidateOptions.length)):"Enter"===e.key||" "===e.key?(e.preventDefault(),this.activateSelectedOption()):"Escape"===e.key?(e.preventDefault(),this.destroy()):"ArrowLeft"!==e.key&&"ArrowRight"!==e.key||e.preventDefault())}},{key:"setupKeyboardNav",value:function(t){this.candidateOptions=Array.from(t.querySelectorAll('[role="option"]')),this.candidateOptions.forEach(function(t,e){t.id||(t.id="candidate-".concat(e))}),this.setActiveOption(0)}},{key:"setActiveOption",value:function(t){this.activeIndex=t,this.updateActiveIndex(t)}},{key:"updateActiveIndex",value:function(t){var e=this.candidateOptions[this.activeIndex],n=this.candidateOptions[t];if(e&&(e.setAttribute("aria-selected","false"),e.classList.remove("active")),this.activeIndex=t,n){if(n.setAttribute("aria-selected","true"),n.classList.add("active"),n.scrollIntoView({block:"nearest"}),this.globalLiveRegionElement){var o,i=this.candidateOptions.length,r=null===(o=n.textContent)||void 0===o?void 0:o.trim();this.globalLiveRegionElement.textContent="".concat(t+1," of ").concat(i,": ").concat(r)}if(!this.candidateBoxElement)return;var a=this.candidateBoxElement.querySelector(".hg-candidate-box-list");a&&a.setAttribute("aria-activedescendant",n.id)}}},{key:"activateSelectedOption",value:function(){var t=this.candidateOptions[this.activeIndex];if(t){if(this.globalLiveRegionElement){var e,n=null===(e=t.textContent)||void 0===e?void 0:e.trim();this.globalLiveRegionElement.textContent="Inserted: ".concat(n)}t.click(),t.setAttribute("aria-selected","false")}}}],n&&k(e.prototype,n),o&&k(e,o),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,n,o}();w(O,"isOpen",!1);var A=O;function I(t){return function(t){if(Array.isArray(t))return D(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return D(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?D(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=Array(e);n<e;n++)o[n]=t[n];return o}function C(t){return C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},C(t)}function P(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,o)}return n}function N(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,M(o.key),o)}}function L(t,e,n){return(e=M(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function M(t){var e=function(t,e){if("object"!=C(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!=C(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==C(e)?e:e+""}var T=function(){return t=function t(e,n){var o=this;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),L(this,"input",void 0),L(this,"options",void 0),L(this,"utilities",void 0),L(this,"caretPosition",void 0),L(this,"caretPositionEnd",void 0),L(this,"keyboardDOM",void 0),L(this,"keyboardPluginClasses",void 0),L(this,"keyboardDOMClass",void 0),L(this,"buttonElements",void 0),L(this,"currentInstanceName",void 0),L(this,"allKeyboardInstances",void 0),L(this,"keyboardInstanceNames",void 0),L(this,"isFirstKeyboardInstance",void 0),L(this,"physicalKeyboard",void 0),L(this,"modules",void 0),L(this,"activeButtonClass",void 0),L(this,"holdInteractionTimeout",void 0),L(this,"holdTimeout",void 0),L(this,"isMouseHold",void 0),L(this,"initialized",void 0),L(this,"candidateBox",void 0),L(this,"keyboardRowsDOM",void 0),L(this,"defaultName","default"),L(this,"activeInputElement",null),L(this,"keyboardInstructions",null),L(this,"keyboardHeader",null),L(this,"instructions",null),L(this,"listenersAdded",!1),L(this,"ariaLiveTimer",null),L(this,"useLiveRegion",!0),L(this,"liveRegionMode","polite"),L(this,"liveRegionDelay",0),L(this,"ariaLabel",""),L(this,"handleUnifiedKeyDownBound",void 0),L(this,"handleKeyUpBound",void 0),L(this,"handleMouseDownBound",void 0),L(this,"handleMouseUpBound",void 0),L(this,"handleTouchEndBound",void 0),L(this,"handleSelectBound",void 0),L(this,"handleSelectionChangeBound",void 0),L(this,"NAV_KEYS",new Set(["ArrowLeft","ArrowRight","ArrowUp","ArrowDown","Tab","Home","End","PageUp","PageDown"])),L(this,"MODIFIER_KEYS",new Set(["Shift","Control","Alt","Meta","CapsLock","NumLock","ScrollLock","Fn","FnLock"])),L(this,"NAMED_KEYS_TO_ANNOUNCE",new Set(["Enter","Backspace","Delete","Escape"," ","Spacebar"])),L(this,"NAMED_READABLE",{" ":"Space",Spacebar:"Space"}),L(this,"_announcerEl",null),L(this,"_navEngaged",!1),L(this,"_rovingLocked",null),L(this,"_lastUsedKey",null),L(this,"handleParams",function(t,e){var n,o,i;if("string"==typeof t)n=t.split(".").join(""),o=document.querySelector(".".concat(n)),i=e;else if(t instanceof HTMLDivElement){if(!t.className)throw console.warn("Any DOM element passed as parameter must have a class."),new Error("KEYBOARD_DOM_CLASS_ERROR");n=t.className.split(" ")[0],o=t,i=e}else n="simple-keyboard",o=document.querySelector(".".concat(n)),i=t;return{keyboardDOMClass:n,keyboardDOM:o,options:i}}),L(this,"getOptions",function(){return o.options}),L(this,"getCaretPosition",function(){return o.caretPosition}),L(this,"getCaretPositionEnd",function(){return o.caretPositionEnd}),L(this,"registerModule",function(t,e){o.modules[t]||(o.modules[t]={}),e(o.modules[t])}),L(this,"getKeyboardClassString",function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return[o.keyboardDOMClass].concat(e).filter(function(t){return!!t}).join(" ")}),"undefined"!=typeof window){var i=this.handleParams(e,n),r=i.keyboardDOMClass,a=i.keyboardDOM,s=i.options,u=void 0===s?{}:s;if(!a)throw new Error("Keyboard root not found");this._announcerEl=this.ensureAnnouncer(a),this.utilities=new f({getOptions:this.getOptions,getCaretPosition:this.getCaretPosition,getCaretPositionEnd:this.getCaretPositionEnd,dispatch:this.dispatch}),this.caretPosition=null,this.caretPositionEnd=null,this.keyboardDOM=a,this.options=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?P(Object(n),!0).forEach(function(e){L(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({layoutName:"default",theme:"hg-theme-default",inputName:"default",preventMouseDownDefault:!1,enableLayoutCandidates:!0,excludeFromLayout:{}},u),this.keyboardPluginClasses="",f.bindMethods(t,this);var c=this.options.inputName,l=void 0===c?this.defaultName:c;if(this.input={},this.input[l]="",this.keyboardDOMClass=r,this.buttonElements={},window.SimpleKeyboardInstances||(window.SimpleKeyboardInstances={}),this.currentInstanceName=this.utilities.camelCase(this.keyboardDOMClass),window.SimpleKeyboardInstances[this.currentInstanceName]=this,this.allKeyboardInstances=window.SimpleKeyboardInstances,this.keyboardInstanceNames=Object.keys(window.SimpleKeyboardInstances),this.isFirstKeyboardInstance=this.keyboardInstanceNames[0]===this.currentInstanceName,this.physicalKeyboard=new E({dispatch:this.dispatch,getOptions:this.getOptions,getNavEngaged:function(){return o._navEngaged}}),this.candidateBox=this.options.enableLayoutCandidates?new A({utilities:this.utilities,options:this.options}):null,!this.keyboardDOM)throw console.warn('".'.concat(r,'" was not found in the DOM.')),new Error("KEYBOARD_DOM_ERROR");this.render(),this.modules={},this.loadModules()}},e=[{key:"navEngaged",get:function(){return this._navEngaged}},{key:"setNavEngaged",value:function(t){this._navEngaged!==t&&(this._navEngaged=t,"function"==typeof this.options.onRovingToggle&&this.options.onRovingToggle(t))}},{key:"ensureAnnouncer",value:function(t){var e=t.parentElement;if(e){var n=e.querySelector(":scope > .hg-live-region");return n?n.textContent="":((n=document.createElement("div")).className="hg-live-region sr-only",n.setAttribute("role","status"),n.setAttribute("aria-live","polite"),n.setAttribute("aria-atomic","false"),t.insertAdjacentElement("afterend",n)),n}var o=t.querySelector(":scope > .hg-live-region");if(o)o.textContent="";else{(o=document.createElement("div")).className="hg-live-region sr-only",o.setAttribute("role","status"),o.setAttribute("aria-live","polite"),o.setAttribute("aria-atomic","false");var i=t.querySelector(":scope > .hg-rows");i&&i.nextSibling?t.insertBefore(o,i.nextSibling):t.appendChild(o)}return o}},{key:"enableRoving",value:function(){this._rovingLocked=!1}},{key:"disableRoving",value:function(){this._rovingLocked=!0}},{key:"clearRovingOverride",value:function(){this._rovingLocked=null}},{key:"isRovingActive",value:function(){var t,e=this.getOptions();return e.debug&&(console.log("Nav Engaged:",this.navEngaged),console.log("Active Surface:",e.activeSurface),console.log("Roving Locked:",this._rovingLocked)),t=!0!==this._rovingLocked&&(this._rovingLocked,this.navEngaged&&"keyboard"===this.options.activeSurface),e.debug&&console.log("Is Roving Active Result:",t),t}},{key:"setCaretPosition",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;this.caretPosition=t,this.caretPositionEnd=e}},{key:"getInputCandidates",value:function(t){var e=this,n=this.options,o=n.layoutCandidates,i=n.layoutCandidatesCaseSensitiveMatch;if(!o||"object"!==C(o))return{};var r=Object.keys(o).filter(function(n){var o=t.substring(0,e.getCaretPositionEnd()||0)||t,r=new RegExp("".concat(e.utilities.escapeRegex(n),"$"),i?"g":"gi");return!!I(o.matchAll(r)).length});if(r.length>1){var a=r.sort(function(t,e){return e.length-t.length})[0];return{candidateKey:a,candidateValue:o[a]}}if(r.length){var s=r[0];return{candidateKey:s,candidateValue:o[s]}}return{}}},{key:"showCandidatesBox",value:function(t,e,n){var o=this;this.candidateBox&&this.candidateBox.show({candidateValue:e,targetElement:n,onSelect:function(e,n){var i=o.options,r=i.layoutCandidatesCaseSensitiveMatch,a=i.disableCandidateNormalization,s=i.enableLayoutCandidatesKeyPress,u=e;a||(u=e.normalize("NFD")),"function"==typeof o.options.beforeInputUpdate&&o.options.beforeInputUpdate(o);var c=o.getInput(o.options.inputName,!0),l=o.getCaretPositionEnd()||0,d=c.substring(0,l||0)||c,f=new RegExp("".concat(o.utilities.escapeRegex(t),"$"),r?"g":"gi"),h=d.replace(f,u),p=c.replace(d,h),v=h.length-d.length,y=(l||c.length)+v;y<0&&(y=0),o.setInput(p,o.options.inputName,!0),o.setCaretPosition(y),s&&"function"==typeof o.options.onKeyPress&&o.options.onKeyPress(e,n),"function"==typeof o.options.onChange&&o.options.onChange(o.getInput(o.options.inputName,!0),n),"function"==typeof o.options.onChangeAll&&o.options.onChangeAll(o.getAllInputs(),n)}})}},{key:"handleButtonClicked",value:function(t,e){var n=this.options.inputName,o=void 0===n?this.defaultName:n;if("{//}"!==t){this.input[o]||(this.input[o]=""),"function"==typeof this.options.beforeInputUpdate&&this.options.beforeInputUpdate(this);var i=this.utilities.getUpdatedInput(t,this.input[o],this.caretPosition,this.caretPositionEnd);if(this.utilities.isStandardButton(t)&&this.activeInputElement&&this.input[o]&&this.input[o]===i&&0===this.caretPosition&&this.caretPositionEnd===i.length)return this.setInput("",this.options.inputName,!0),this.setCaretPosition(0),this.activeInputElement.value="",this.activeInputElement.setSelectionRange(0,0),void this.handleButtonClicked(t,e);if("function"==typeof this.options.onKeyPress&&this.options.onKeyPress(t,e),this.input[o]!==i&&(!this.options.inputPattern||this.options.inputPattern&&this.inputPatternIsValid(i))){if(this.options.maxLength&&this.utilities.handleMaxLength(this.input,i))return;var r=this.utilities.getUpdatedInput(t,this.input[o],this.caretPosition,this.caretPositionEnd,!0);if(this.setInput(r,this.options.inputName,!0),this.options.debug&&console.log("Input changed:",this.getAllInputs()),this.options.debug&&console.log("Caret at: ",this.getCaretPosition(),this.getCaretPositionEnd(),"(".concat(this.keyboardDOMClass,")"),null==e?void 0:e.type),this.options.syncInstanceInputs&&this.syncInstanceInputs(),"function"==typeof this.options.onChange&&this.options.onChange(this.getInput(this.options.inputName,!0),e),"function"==typeof this.options.onChangeAll&&this.options.onChangeAll(this.getAllInputs(),e),null!=e&&e.target&&this.options.enableLayoutCandidates){var a,s=this.getInputCandidates(i),u=s.candidateKey,c=s.candidateValue;u&&c?this.showCandidatesBox(u,c,this.keyboardDOM):null===(a=this.candidateBox)||void 0===a||a.destroy()}}this.caretPositionEnd&&this.caretPosition!==this.caretPositionEnd&&(this.setCaretPosition(this.caretPositionEnd,this.caretPositionEnd),this.activeInputElement&&this.activeInputElement.setSelectionRange(this.caretPositionEnd,this.caretPositionEnd),this.options.debug&&console.log("Caret position aligned",this.caretPosition)),this.options.debug&&console.log("Key pressed:",t)}}},{key:"getMouseHold",value:function(){return this.isMouseHold}},{key:"setMouseHold",value:function(t){this.options.syncInstanceInputs?this.dispatch(function(e){e.isMouseHold=t}):this.isMouseHold=t}},{key:"handleButtonMouseDown",value:function(t,e){var n=this;e&&(this.options.preventMouseDownDefault&&e.preventDefault(),this.options.stopMouseDownPropagation&&e.stopPropagation(),e.target.classList.add(this.activeButtonClass)),this.holdInteractionTimeout&&clearTimeout(this.holdInteractionTimeout),this.holdTimeout&&clearTimeout(this.holdTimeout),this.setMouseHold(!0),this.options.disableButtonHold||(this.holdTimeout=window.setTimeout(function(){(n.getMouseHold()&&(!t.includes("{")&&!t.includes("}")||"{delete}"===t||"{backspace}"===t||"{bksp}"===t||"{space}"===t||"{tab}"===t)||"{arrowright}"===t||"{arrowleft}"===t||"{arrowup}"===t||"{arrowdown}"===t)&&(n.options.debug&&console.log("Button held:",t),n.handleButtonHold(t)),clearTimeout(n.holdTimeout)},500))}},{key:"handleButtonMouseUp",value:function(t,e){var n=this;e&&(this.options.preventMouseUpDefault&&e.preventDefault&&e.preventDefault(),this.options.stopMouseUpPropagation&&e.stopPropagation&&e.stopPropagation(),!(e.target===this.keyboardDOM||e.target&&this.keyboardDOM.contains(e.target)||this.candidateBox&&this.candidateBox.candidateBoxElement&&(e.target===this.candidateBox.candidateBoxElement||e.target&&this.candidateBox.candidateBoxElement.contains(e.target)))&&this.candidateBox&&this.candidateBox.destroy()),this.recurseButtons(function(t){t.classList.remove(n.activeButtonClass)}),this.setMouseHold(!1),this.holdInteractionTimeout&&clearTimeout(this.holdInteractionTimeout),t&&"function"==typeof this.options.onKeyReleased&&this.options.onKeyReleased(t,e)}},{key:"handleKeyboardContainerMouseDown",value:function(t){this.options.preventMouseDownDefault&&t.preventDefault()}},{key:"handleButtonHold",value:function(t){var e=this;this.holdInteractionTimeout&&clearTimeout(this.holdInteractionTimeout),this.holdInteractionTimeout=window.setTimeout(function(){e.getMouseHold()?(e.handleButtonClicked(t),e.handleButtonHold(t)):clearTimeout(e.holdInteractionTimeout)},100)}},{key:"syncInstanceInputs",value:function(){var t=this;this.dispatch(function(e){e.replaceInput(t.input),e.setCaretPosition(t.caretPosition,t.caretPositionEnd)})}},{key:"clearInput",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.inputName||this.defaultName;this.input[t]="",this.setCaretPosition(0),this.options.syncInstanceInputs&&this.syncInstanceInputs()}},{key:"getInput",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.inputName||this.defaultName,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.options.syncInstanceInputs&&!e&&this.syncInstanceInputs(),this.options.rtl?"‫"+this.input[t].replace("‫","").replace("‬","")+"‬":this.input[t]}},{key:"getAllInputs",value:function(){var t=this,e={};return Object.keys(this.input).forEach(function(n){e[n]=t.getInput(n,!0)}),e}},{key:"setInput",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.inputName||this.defaultName,n=arguments.length>2?arguments[2]:void 0;if("_focusRestore"!==e)this.input[e]=t,!n&&this.options.syncInstanceInputs&&this.syncInstanceInputs();else{var o,i=this.input._focusRestore;this.input._focusRestore=t;var r=this.getOptions().restoreFocusOnChange||"content";if("never"===r)return;if("content"===r&&i===t)return;null===(o=this.keyboardDOM)||void 0===o||o.focus()}}},{key:"replaceInput",value:function(t){this.input=t}},{key:"setOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this.changedOptions(t);if(this.options=Object.assign(this.options,t),e.length&&(this.options.debug&&console.log("changedOptions",e),this.onSetOptions(e),this.render(),t.activeSurface&&"keyboard"!==t.activeSurface&&this.setNavEngaged(!1),"keyboard"===t.activeSurface)){var n,o,i,r=null;if(this._lastUsedKey&&(r=null===(n=this.keyboardDOM)||void 0===n?void 0:n.querySelector('[data-skbtnuid="'.concat(this._lastUsedKey,'"]'))),!r){var a,s=(null===(a=this.keyboardDOM)||void 0===a?void 0:a.querySelectorAll(".hg-button"))||[];r=s.length?s[0]:null}r&&(null===(o=this.keyboardDOM)||void 0===o||o.querySelectorAll("[aria-selected='true']").forEach(function(t){return t.setAttribute("aria-selected","false")}),r.setAttribute("aria-selected","true"),null===(i=this.keyboardDOM)||void 0===i||i.setAttribute("aria-activedescendant",r.id),this.handleGetButtonAndAnnounce({key:this._lastUsedKey||r.dataset.skbtnuid}))}}},{key:"changedOptions",value:function(t){var e=this;return Object.keys(t).filter(function(n){return JSON.stringify(t[n])!==JSON.stringify(e.options[n])})}},{key:"onSetOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];t.includes("layoutName")&&this.candidateBox&&this.candidateBox.destroy(),(t.includes("layoutCandidatesPageSize")||t.includes("layoutCandidates"))&&this.candidateBox&&(this.candidateBox.destroy(),this.candidateBox=new A({utilities:this.utilities,options:this.options}))}},{key:"resetRows",value:function(){this.keyboardRowsDOM&&this.keyboardRowsDOM.remove(),this.keyboardDOM.className=this.keyboardDOMClass,this.keyboardDOM.setAttribute("data-skInstance",this.currentInstanceName),this.buttonElements={}}},{key:"dispatch",value:function(t){if(!window.SimpleKeyboardInstances)throw console.warn("SimpleKeyboardInstances is not defined. Dispatch cannot be called."),new Error("INSTANCES_VAR_ERROR");return Object.keys(window.SimpleKeyboardInstances).forEach(function(e){t(window.SimpleKeyboardInstances[e],e)})}},{key:"addButtonTheme",value:function(t,e){var n=this;e&&t&&(t.split(" ").forEach(function(o){e.split(" ").forEach(function(e){n.options.buttonTheme||(n.options.buttonTheme=[]);var i=!1;n.options.buttonTheme.map(function(t){if(null!=t&&t.class.split(" ").includes(e)){i=!0;var n=t.buttons.split(" ");n.includes(o)||(i=!0,n.push(o),t.buttons=n.join(" "))}return t}),i||n.options.buttonTheme.push({class:e,buttons:t})})}),this.render())}},{key:"removeButtonTheme",value:function(t,e){var n=this;if(!t&&!e)return this.options.buttonTheme=[],void this.render();t&&Array.isArray(this.options.buttonTheme)&&this.options.buttonTheme.length&&(t.split(" ").forEach(function(t){var o;null===(o=n.options)||void 0===o||null===(o=o.buttonTheme)||void 0===o||o.map(function(o,i){if(o&&e&&e.includes(o.class)||!e){var r,a,s=null===(r=o)||void 0===r?void 0:r.buttons.split(" ").filter(function(e){return e!==t});o&&null!=s&&s.length?o.buttons=s.join(" "):(null===(a=n.options.buttonTheme)||void 0===a||a.splice(i,1),o=null)}return o})}),this.render())}},{key:"getButtonElement",value:function(t){var e,n=this.buttonElements[t];return n&&(e=n.length>1?n:n[0]),e}},{key:"inputPatternIsValid",value:function(t){var e,n=this.options.inputPattern;if((e=n instanceof RegExp?n:n[this.options.inputName||this.defaultName])&&t){var o=e.test(t);return this.options.debug&&console.log('inputPattern ("'.concat(e,'"): ').concat(o?"passed":"did not pass!")),o}return!0}},{key:"removeEventListeners",value:function(){document.removeEventListener("keydown",this.handleUnifiedKeyDownBound),document.removeEventListener("keyup",this.handleKeyUpBound),document.removeEventListener("mouseup",this.handleMouseUpBound),document.removeEventListener("touchend",this.handleTouchEndBound),document.removeEventListener("select",this.handleSelectBound),this.options.updateCaretOnSelectionChange&&document.removeEventListener("selectionchange",this.handleSelectionChangeBound),this.listenersAdded=!1}},{key:"setEventListeners",value:function(){var t=this;if(this.isFirstKeyboardInstance||!this.allKeyboardInstances){if(this.options.debug&&console.log("Caret handling started (".concat(this.keyboardDOMClass,")")),this.listenersAdded)return;this.removeEventListeners(),this.handleUnifiedKeyDownBound=this.handleUnifiedKeyDown.bind(this),this.handleKeyUpBound=this.handleKeyUp.bind(this),this.handleMouseUpBound=this.handleMouseUp.bind(this),this.handleTouchEndBound=function(){return t.handleTouchEnd(t)},this.handleSelectBound=function(){return t.handleSelect(t)},this.handleSelectionChangeBound=this.handleSelectionChange.bind(this),document.addEventListener("keydown",this.handleUnifiedKeyDownBound),document.addEventListener("keyup",this.handleKeyUpBound),document.addEventListener("mouseup",this.handleMouseUpBound),document.addEventListener("touchend",this.handleTouchEndBound),this.options.updateCaretOnSelectionChange&&document.addEventListener("selectionchange",this.handleSelectionChangeBound),document.addEventListener("select",this.handleSelectBound),this.listenersAdded=!0}}},{key:"handleUnifiedKeyDown",value:function(t){this.handleInternalKeyNav(t),this.handleKeyDown(t)}},{key:"logEventType",value:function(t,e){this.getOptions().debug&&console.log("[".concat(t,"] Event type:"),e.type,"→",e.constructor.name)}},{key:"isSupportedEvent",value:function(t){return t instanceof KeyboardEvent||t instanceof MouseEvent||"undefined"!=typeof TouchEvent&&t instanceof TouchEvent||t instanceof PointerEvent}},{key:"handleGetButtonAndAnnounce",value:function(t){this.isSupportedEvent(t)&&this.getButtonAndAnnounce(t)}},{key:"handleKeyUp",value:function(t){if(!A.isOpen){var e=t.key,n=new Set(["Tab","ArrowUp","ArrowDown","ArrowLeft","ArrowRight","Enter","Escape"," ","Spacebar"]);if(this.options.physicalKeyboardHighlightPreventDefault&&t instanceof KeyboardEvent){var o=1===e.length;!n.has(e)&&o&&t.preventDefault()}this.caretEventHandler(t),this.options.physicalKeyboardHighlight&&this.physicalKeyboard.handleHighlightKeyUp(t)}}},{key:"resolveKey",value:function(t,e){var n=this.keyboardDOM.querySelector('.hg-button[aria-selected="true"]'),o=null==n?void 0:n.getAttribute("data-skbtn");return o?e||"Enter"!==t&&" "!==t&&"Spacebar"!==t?"Enter"===t||" "===t||"Spacebar"===t?o:t:"Enter"===t?"{enter}":"{space}":t}},{key:"handleKeyDown",value:function(t){if(!A.isOpen){this.getOptions();var e="Spacebar"===t.key?" ":t.key,n=new Set(["Tab","ArrowUp","ArrowDown","ArrowLeft","ArrowRight","Enter","Escape"," ","Spacebar"]);if(this.options.physicalKeyboardHighlightPreventDefault&&t instanceof KeyboardEvent){var o=1===e.length;!n.has(e)&&o&&t.preventDefault()}if(t instanceof KeyboardEvent&&("Enter"===e||" "===e||"Spacebar"===e)){var i=this.isRovingActive();if(i){t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation();var r=this.resolveKey(e,i);if(console.log("Resolved key for activation:",r),r){var a;this.handleButtonClicked(r,t);var s=null===(a=this.keyboardDOM)||void 0===a?void 0:a.querySelector('.hg-button[aria-selected="true"]'),u=null==s?void 0:s.getAttribute("data-skbtn");u&&this.getButtonAndAnnounce({key:u})}return}}this.logEventType("Keyboard",t),this.options.physicalKeyboardHighlight&&this.physicalKeyboard.handleHighlightKeyDown(t),this.handleGetButtonAndAnnounce(t)}}},{key:"isPhysicalKeyMatchingButton",value:function(t,e){return" "===t.key||"Spacebar"===t.key?"{space}"===e||e.toLowerCase().includes("space"):1===t.key.length?e===t.key.toLowerCase()||e===t.key.toUpperCase():"Enter"===t.key&&("{enter}"===e||e.toLowerCase().includes("enter"))}},{key:"getAnnounceLabel",value:function(t){var e,n=this.NAMED_KEYS_TO_ANNOUNCE.has(t),o=1===t.length,i=document.activeElement,r=(null==i?void 0:i.getAttribute("aria-label"))||(null==i||null===(e=i.textContent)||void 0===e?void 0:e.trim())||(null==i?void 0:i.getAttribute("data-skbtn"));return n&&r&&r!==t?r:o||n?this.NAMED_READABLE[t]||t:null}},{key:"shouldSuppressAnnouncements",value:function(){if(!this.options.useLiveRegion)return!0;if("none"===(this.options.liveRegionAnnounceMode||"actions"))return!0;if(this.options.suppressAnnouncementsOnInputFocus){var t=document.activeElement;if(t&&("INPUT"===t.tagName||"TEXTAREA"===t.tagName))return!0}return!1}},{key:"getContentForButton",value:function(t){if("{space}"===t)return"space";if("{enter}"===t)return"new line";if("{bksp}"===t||"{backspace}"===t)return"deleted";if("{tab}"===t)return"tab";if("{delete}"===t)return"deleted";if(1===t.length)return t;var e=this.utilities.getButtonDisplayName(t,this.options.display,this.options.mergeDisplay);return e!==t?e:null}},{key:"getButtonAndAnnounce",value:function(t){var e=this;if(!this.shouldSuppressAnnouncements()){var n=null,o=null;if(null==t||!t.key||t instanceof KeyboardEvent||(n=t.key),t instanceof KeyboardEvent){if(t.isComposing||t.repeat)return;n=t.key}if(t instanceof MouseEvent||t instanceof PointerEvent||"undefined"!=typeof TouchEvent&&t instanceof TouchEvent){var i,r,a,s=null===(i=t.target)||void 0===i||null===(r=i.closest)||void 0===r?void 0:r.call(i,"[data-skbtn]");if(!s||!this.keyboardDOM.contains(s))return;o=s.getAttribute("data-skbtn"),n=s.getAttribute("aria-label")||(null===(a=s.textContent)||void 0===a?void 0:a.trim())||o}if(n){var u=this.options.liveRegionAnnounceMode||"actions";if("none"!==u){if("actions"===u||"both"===u){var c=this.getAnnounceLabel(n);c&&this.announceLiveRegion(c,"pressed")}if(("content"===u||"both"===u)&&o){var l=this.getContentForButton(o);l&&setTimeout(function(){e.announceLiveRegion(l,"")},"both"===u?200:0)}}}}}},{key:"announceLiveRegion",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"pressed";this.options.useLiveRegion&&this._announcerEl&&(this.ariaLiveTimer&&clearTimeout(this.ariaLiveTimer),this.ariaLiveTimer=setTimeout(function(){e._announcerEl&&(e._announcerEl.textContent="",requestAnimationFrame(function(){e._announcerEl&&(e._announcerEl.textContent="Key ".concat(t," ").concat(n))}))},100))}},{key:"handleInternalKeyNav",value:function(t){var e;if(t instanceof KeyboardEvent&&null!==(e=this.keyboardDOM)&&void 0!==e&&e.offsetParent&&!A.isOpen){var n=this.getOptions();if(n.debug&&console.log("Current Options:",n),n.debug&&console.log("[handleInternalKeyNav] Internal Key Nav:",t.key,"Active Surface:",n.activeSurface),"keyboard"===n.activeSurface){n.debug&&console.log("[handleInternalKeyNav] Handling Internal Key Nav:",t.key);var o=t.key;if(["ArrowRight","ArrowLeft","ArrowDown","ArrowUp"].includes(o)){n.debug&&console.log("[handleInternalKeyNav] Arrow key pressed:",o),t.preventDefault();var i=this.keyboardDOM.querySelector('[aria-selected="true"]');if(i&&i.hasAttribute("data-skbtnuid")){var r=null;switch(o){case"ArrowRight":r=this.findNextButton(i);break;case"ArrowLeft":r=this.findPreviousButton(i);break;case"ArrowDown":r=this.findVerticalButton(i,"down");break;case"ArrowUp":r=this.findVerticalButton(i,"up")}r&&(i.setAttribute("aria-selected","false"),this._lastUsedKey=r.getAttribute("data-skbtnuid")||null,r.setAttribute("aria-selected","true"),this.keyboardDOM.setAttribute("aria-activedescendant",r.id)),this.setNavEngaged(!0)}}}}}},{key:"findNextButton",value:function(t){var e=Array.from(this.keyboardDOM.querySelectorAll("[data-skBtn]")),n=e.indexOf(t);return e[n+1]||null}},{key:"findPreviousButton",value:function(t){var e=Array.from(this.keyboardDOM.querySelectorAll("[data-skBtn]")),n=e.indexOf(t);return e[n-1]||null}},{key:"findVerticalButton",value:function(t,e){var n=Array.from(this.keyboardDOM.querySelectorAll(".hg-row")),o=t.closest(".hg-row");if(!o)return null;var i=n.indexOf(o),r=n["up"===e?i-1:i+1];if(!r)return null;var a=t.getBoundingClientRect(),s=a.left+a.width/2,u=Array.from(r.querySelectorAll("[data-skBtn]"));if(!u.length)return null;for(var c=u[0],l=Number.POSITIVE_INFINITY,d=0,f=u;d<f.length;d++){var h=f[d],p=h.getBoundingClientRect(),v=p.left+p.width/2,y=Math.abs(v-s);y<l&&(l=y,c=h)}return c}},{key:"handleMouseUp",value:function(t){this.caretEventHandler(t),this.logEventType("Mouse",t),this.handleGetButtonAndAnnounce(t)}},{key:"handleTouchEnd",value:function(t){this.caretEventHandler(t),this.logEventType("Touch",t),this.handleGetButtonAndAnnounce(t)}},{key:"handleSelect",value:function(t){this.caretEventHandler(t)}},{key:"handleSelectionChange",value:function(t){navigator.userAgent.includes("Firefox")||this.caretEventHandler(t)}},{key:"caretEventHandler",value:function(t){var e=this,n=null==t?void 0:t.target,o="";null!=n&&n.tagName&&(o=n.tagName.toLowerCase()),this.dispatch(function(n){var i=t.target===n.keyboardDOM||t.target&&n.keyboardDOM.contains(t.target);if(e.options.syncInstanceInputs&&Array.isArray(t.path)&&(i=t.path.some(function(t){var e;return null==t||null===(e=t.hasAttribute)||void 0===e?void 0:e.call(t,"data-skInstance")})),("textarea"===o||"input"===o&&["text","search","url","tel","password"].includes(t.target.type))&&!n.options.disableCaretPositioning){var r=t.target.selectionStart,a=t.target.selectionEnd;n.options.rtl&&(r=n.utilities.getRtlOffset(r,n.getInput()),a=n.utilities.getRtlOffset(a,n.getInput())),n.setCaretPosition(r,a),n.activeInputElement=t.target,n.options.debug&&console.log("Caret at: ",n.getCaretPosition(),n.getCaretPositionEnd(),t&&t.target.tagName.toLowerCase(),"(".concat(n.keyboardDOMClass,")"),null==t?void 0:t.type)}else!n.options.disableCaretPositioning&&i||"selectionchange"===(null==t?void 0:t.type)||(n.setCaretPosition(null),n.activeInputElement=null,n.options.debug&&console.log('Caret position reset due to "'.concat(null==t?void 0:t.type,'" event'),t))})}},{key:"recurseButtons",value:function(t){var e=this;t&&Object.keys(this.buttonElements).forEach(function(n){return e.buttonElements[n].forEach(t)})}},{key:"destroy",value:function(){this.options.debug&&console.log("Destroying simple-keyboard instance: ".concat(this.currentInstanceName)),this.removeEventListeners(),document.onpointerup=null,document.ontouchend=null,document.ontouchcancel=null,document.onmouseup=null,this.recurseButtons(function(t){t&&(t.onpointerdown=null,t.onpointerup=null,t.onpointercancel=null,t.ontouchstart=null,t.ontouchend=null,t.ontouchcancel=null,t.onclick=null,t.onmousedown=null,t.onmouseup=null,t.remove(),t=null)}),this.keyboardDOM.onpointerdown=null,this.keyboardDOM.ontouchstart=null,this.keyboardDOM.onmousedown=null,this.resetRows(),this.candidateBox&&(this.candidateBox.destroy(),this.candidateBox=null),this.activeInputElement=null,this.keyboardDOM.removeAttribute("data-skInstance"),this.keyboardDOM.innerHTML="",window.SimpleKeyboardInstances[this.currentInstanceName]=null,delete window.SimpleKeyboardInstances[this.currentInstanceName],this.initialized=!1,this.setNavEngaged(!1)}},{key:"getButtonThemeClasses",value:function(t){var e=this.options.buttonTheme,n=[];return Array.isArray(e)&&e.forEach(function(e){if(e&&e.class&&"string"==typeof e.class&&e.buttons&&"string"==typeof e.buttons){var o=e.class.split(" ");e.buttons.split(" ").includes(t)&&(n=[].concat(I(n),I(o)))}else console.warn('Incorrect "buttonTheme". Please check the documentation.',e)}),n}},{key:"setDOMButtonAttributes",value:function(t,e){var n=this.options.buttonAttributes;Array.isArray(n)&&n.forEach(function(n){n.attribute&&"string"==typeof n.attribute&&n.value&&"string"==typeof n.value&&n.buttons&&"string"==typeof n.buttons?n.buttons.split(" ").includes(t)&&e(n.attribute,n.value):console.warn('Incorrect "buttonAttributes". Please check the documentation.',n)})}},{key:"onTouchDeviceDetected",value:function(){this.processAutoTouchEvents(),this.disableContextualWindow()}},{key:"disableContextualWindow",value:function(){window.oncontextmenu=function(t){if(t.target.classList.contains("hg-button"))return t.preventDefault(),t.stopPropagation(),!1}}},{key:"processAutoTouchEvents",value:function(){this.options.autoUseTouchEvents&&(this.options.useTouchEvents=!0,this.options.debug&&console.log("autoUseTouchEvents: Touch device detected, useTouchEvents enabled."))}},{key:"onInit",value:function(){this.options.debug&&console.log("".concat(this.keyboardDOMClass," Initialized")),this._announcerEl=this.ensureAnnouncer(this.keyboardDOM),this.setEventListeners(),this.options.autoFocus&&this.handleAutoFocus(),"function"==typeof this.options.onInit&&this.options.onInit(this)}},{key:"beforeFirstRender",value:function(){this.utilities.isTouchDevice()&&this.onTouchDeviceDetected(),"function"==typeof this.options.beforeFirstRender&&this.options.beforeFirstRender(this),this.isFirstKeyboardInstance&&this.utilities.pointerEventsSupported()&&!this.options.useTouchEvents&&!this.options.useMouseEvents&&this.options.debug&&console.log("Using PointerEvents as it is supported by this browser"),this.options.useTouchEvents&&this.options.debug&&console.log("useTouchEvents has been enabled. Only touch events will be used.")}},{key:"beforeRender",value:function(){"function"==typeof this.options.beforeRender&&this.options.beforeRender(this)}},{key:"onRender",value:function(){"function"==typeof this.options.onRender&&this.options.onRender(this),this._announcerEl=this.ensureAnnouncer(this.keyboardDOM)}},{key:"handleAutoFocus",value:function(){var t=this;setTimeout(function(){requestAnimationFrame(function(){if(t.keyboardDOM.querySelector('[data-skBtn][aria-selected="true"]'))t.options.debug&&console.log("AutoFocus: First keyboard button already active");else{var e=t.keyboardDOM.querySelector("[data-skBtn]");e?(e.setAttribute("aria-selected","true"),t.options.debug&&console.log("AutoFocus: Activated fallback keyboard button")):t.options.debug&&console.warn("AutoFocus: No keyboard buttons found to activate!")}})},0)}},{key:"onModulesLoaded",value:function(){"function"==typeof this.options.onModulesLoaded&&this.options.onModulesLoaded(this)}},{key:"loadModules",value:function(){var t=this;Array.isArray(this.options.modules)&&(this.options.modules.forEach(function(e){var n=t.utilities.isConstructor(e)?new e(t):e(t);n.init&&n.init(t)}),this.keyboardPluginClasses="modules-loaded",this.render(),this.onModulesLoaded())}},{key:"getModuleProp",value:function(t,e){return!!this.modules[t]&&this.modules[t][e]}},{key:"getModulesList",value:function(){return Object.keys(this.modules)}},{key:"parseRowDOMContainers",value:function(t,e,n,o){var i=this,r=Array.from(t.children),a=0;return r.length&&n.forEach(function(n,s){var u=o[s];if(!(u&&u>n))return!1;var c=n-a,l=u-a,d=document.createElement("div");d.className+="hg-button-container";var f="".concat(i.options.layoutName,"-r").concat(e,"c").concat(s);d.setAttribute("data-skUID",f);var h=r.splice(c,l-c+1);a+=l-c,h.forEach(function(t){return d.appendChild(t)}),r.splice(c,0,d),t.innerHTML="",r.forEach(function(e){return t.appendChild(e)}),i.options.debug&&console.log("rowDOMContainer",h,c,l,a+1)}),t}},{key:"restoreRovingSelection",value:function(){if(this.keyboardDOM){var t=null;this._lastUsedKey&&(t=this._lastUsedKey.split("-")[1]);var e=this.keyboardDOM.querySelector('[data-skbtnuid$="'.concat(t,'"]'));e||(e=this.keyboardDOM.querySelector(".hg-button")),e&&(this.keyboardDOM.querySelectorAll(".hg-button").forEach(function(t){return t.setAttribute("aria-selected","false")}),e.setAttribute("aria-selected","true"),this.keyboardDOM.setAttribute("aria-activedescendant",e.id))}}},{key:"render",value:function(){var t,e,n,o,i,r,a,s,u=this;this.resetRows(),this.initialized||this.beforeFirstRender(),this.beforeRender();var c="hg-layout-".concat(this.options.layoutName),l=this.options.layout||{default:["` 1 2 3 4 5 6 7 8 9 0 - = {bksp}","{tab} q w e r t y u i o p [ ] \\","{lock} a s d f g h j k l ; ' {enter}","{shift} z x c v b n m , . / {shift}",".com @ {space}"],shift:["~ ! @ # $ % ^ & * ( ) _ + {bksp}","{tab} Q W E R T Y U I O P { } |",'{lock} A S D F G H J K L : " {enter}',"{shift} Z X C V B N M < > ? {shift}",".com @ {space}"]},d=this.options.useTouchEvents||!1,f=d?"hg-touch-events":"",h=this.options.useMouseEvents||!1,p=this.options.disableRowButtonContainers;this.keyboardDOM.className=this.getKeyboardClassString(this.options.theme,c,this.keyboardPluginClasses,f),this.keyboardDOM.setAttribute("data-skInstance",this.currentInstanceName),null!==(e=(t=this.options).useLiveRegion)&&void 0!==e||(t.useLiveRegion=!0),null!==(o=(n=this.options).liveRegionMode)&&void 0!==o||(n.liveRegionMode="polite"),null!==(r=(i=this.options).liveRegionDelay)&&void 0!==r||(i.liveRegionDelay=100),null!==(s=(a=this.options).ariaLabel)&&void 0!==s||(a.ariaLabel="Virtual Keyboard"),this.keyboardDOM.setAttribute("role","application"),this.keyboardDOM.setAttribute("aria-label",this.options.ariaLabel||"Virtual Keyboard"),this.keyboardDOM.setAttribute("tabindex","-1"),this.instructions=this.options.instructions||"Arrow keys navigate. Enter to select. Tab to exit keyboard, Shift+Tab to return.",this.keyboardDOM.querySelector("#hg-virtual-keyboard-header")||(this.keyboardHeader=document.createElement("h2"),this.keyboardHeader.classList.add("hg-header","sr-only"),this.keyboardHeader.id="hg-virtual-keyboard-header",this.keyboardHeader.textContent="QWERTY Virtual Keyboard",this.keyboardDOM.appendChild(this.keyboardHeader),this.keyboardDOM.setAttribute("aria-labelledby",this.keyboardHeader.id)),this.keyboardDOM.querySelector("#hg-virtual-keyboard-instructions")||(this.keyboardInstructions=document.createElement("p"),this.keyboardInstructions.classList.add("hg-instructions","sr-only"),this.keyboardInstructions.id="hg-virtual-keyboard-instructions",this.keyboardInstructions.setAttribute("role","note"),this.keyboardInstructions.textContent=this.instructions,this.keyboardDOM.appendChild(this.keyboardInstructions),this.keyboardDOM.setAttribute("aria-describedby",this.keyboardInstructions.id)),this.keyboardRowsDOM=document.createElement("div"),this.keyboardRowsDOM.className="hg-rows",l[this.options.layoutName||this.defaultName].forEach(function(t,e){var n=t.split(" ");u.options.excludeFromLayout&&u.options.excludeFromLayout[u.options.layoutName||u.defaultName]&&(n=n.filter(function(t){return u.options.excludeFromLayout&&!u.options.excludeFromLayout[u.options.layoutName||u.defaultName].includes(t)}));var o=document.createElement("div");o.className+="hg-row";var i=[],r=[];n.forEach(function(t,n){var a,s=!p&&"string"==typeof t&&t.length>1&&0===t.indexOf("["),c=!p&&"string"==typeof t&&t.length>1&&t.indexOf("]")===t.length-1;s&&(i.push(n),t=t.replace(/\[/g,"")),c&&(r.push(n),t=t.replace(/\]/g,""));var l=u.utilities.getButtonClass(t),f=u.utilities.getButtonDisplayName(t,u.options.display,u.options.mergeDisplay),v=u.options.useButtonTag?"button":"div",y=document.createElement(v);y.className+="hg-button ".concat(l),(a=y.classList).add.apply(a,I(u.getButtonThemeClasses(t))),u.setDOMButtonAttributes(t,function(t,e){y.setAttribute(t,e)}),u.activeButtonClass="hg-activeButton",!u.utilities.pointerEventsSupported()||d||h?d?(y.ontouchstart=function(e){u.handleButtonClicked(t,e),u.handleButtonMouseDown(t,e)},y.ontouchend=function(e){u.handleButtonMouseUp(t,e)},y.ontouchcancel=function(e){u.handleButtonMouseUp(t,e)}):(y.onclick=function(e){u.setMouseHold(!1),"function"==typeof u.options.onKeyReleased||u.options.useMouseEvents&&u.options.clickOnMouseDown||u.handleButtonClicked(t,e)},y.onmousedown=function(e){("function"==typeof u.options.onKeyReleased||u.options.useMouseEvents&&u.options.clickOnMouseDown)&&!u.isMouseHold&&u.handleButtonClicked(t,e),u.handleButtonMouseDown(t,e)},y.onmouseup=function(e){u.handleButtonMouseUp(t,e)}):(y.onpointerdown=function(e){u.handleButtonClicked(t,e),u.handleButtonMouseDown(t,e)},y.onpointerup=function(e){u.handleButtonMouseUp(t,e)},y.onpointercancel=function(e){u.handleButtonMouseUp(t,e)}),y.setAttribute("data-skBtn",t);var g="".concat(u.options.layoutName,"-r").concat(e,"b").concat(n);y.setAttribute("data-skBtnUID",g),"div"===v&&y.setAttribute("role","button"),y.setAttribute("aria-selected","false"),y.setAttribute("tabindex","-1"),y.setAttribute("aria-label",f),y.setAttribute("title",f),y.id="key-".concat(e,"-").concat(n,"-").concat(t.replace(/\s+/g,"-"));var b=document.createElement("span");b.innerHTML=f,y.appendChild(b),u.buttonElements[t]||(u.buttonElements[t]=[]),u.buttonElements[t].push(y),o.appendChild(y)}),o=u.parseRowDOMContainers(o,e,i,r),u.keyboardRowsDOM.appendChild(o)}),this.keyboardDOM.appendChild(this.keyboardRowsDOM),this.restoreRovingSelection(),this.onRender(),this.initialized||(this.initialized=!0,!this.utilities.pointerEventsSupported()||d||h?d?(document.ontouchend=function(t){return u.handleButtonMouseUp(void 0,t)},document.ontouchcancel=function(t){return u.handleButtonMouseUp(void 0,t)},this.keyboardDOM.ontouchstart=function(t){return u.handleKeyboardContainerMouseDown(t)}):d||(document.onmouseup=function(t){return u.handleButtonMouseUp(void 0,t)},this.keyboardDOM.onmousedown=function(t){return u.handleKeyboardContainerMouseDown(t)}):(document.onpointerup=function(t){return u.handleButtonMouseUp(void 0,t)},this.keyboardDOM.onpointerdown=function(t){return u.handleKeyboardContainerMouseDown(t)}),this.onInit())}}],e&&N(t.prototype,e),n&&N(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}(),R=T,B=R;return o}()});